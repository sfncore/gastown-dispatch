{"id":"gtdispat-08g","title":"Frontend: Master-detail layout for beads page","description":"Implement master-detail layout for beads page.\n\n## Layout\n- Left panel (320px): Scrollable bead list\n- Right panel (flex): Selected bead detail or empty state\n\n## Bead List Items\n- Status icon (color-coded)\n- Title (truncated)\n- ID badge\n- Priority indicator\n- Type badge\n- Assignee (if any)\n- Updated time\n- Dependency count indicator\n\n## Components\n- BeadCard - Compact list item\n- BeadStatusBadge - Status with icon\n- PriorityBadge - P0-P4 indicator\n- TypeBadge - bug/feature/task/epic/chore\n- EmptyDetailState - Placeholder when none selected","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:18:27.692975-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:27.692975-06:00","dependencies":[{"issue_id":"gtdispat-08g","depends_on_id":"gtdispat-17a","type":"blocks","created_at":"2026-01-07T14:19:19.859331-06:00","created_by":"erik"},{"issue_id":"gtdispat-08g","depends_on_id":"gtdispat-3tv","type":"blocks","created_at":"2026-01-08T07:11:10.965399-06:00","created_by":"erik"}]}
{"id":"gtdispat-0rz","title":"Backend: SSE convoy updates subscription","description":"Add SSE endpoint for real-time convoy updates.\n\n## Endpoint\nGET /convoys/subscribe (SSE stream)\n\n## Events\n1. **convoy:updated**\n   - Convoy status changed\n   - Progress changed (issue completed)\n   - Payload: { convoy_id, status, progress, completed, total }\n\n2. **convoy:created**\n   - New convoy created\n   - Payload: full Convoy object\n\n3. **convoy:closed**\n   - Convoy landed\n   - Payload: { convoy_id, closed_at }\n\n4. **issue:status**\n   - Tracked issue status changed\n   - Payload: { convoy_id, issue_id, old_status, new_status }\n\n5. **worker:assigned**\n   - Worker started on tracked issue\n   - Payload: { convoy_id, issue_id, worker, agent }\n\n## Implementation\n- Poll gt convoy list periodically (5s)\n- Diff against cached state\n- Emit events for changes\n- Client reconnection handling\n\n## Frontend Integration\n- useConvoySubscription hook\n- Auto-refresh convoy list on events\n- Update detail panel in real-time\n- Activity indicators on cards","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-07T09:26:28.976894-06:00","created_by":"erik","updated_at":"2026-01-07T14:17:01.724517-06:00","closed_at":"2026-01-07T14:17:01.724517-06:00","close_reason":"Implemented SSE convoy updates: ConvoyStreamer polls gt convoy list, emits events for changes, useConvoySubscription hook auto-invalidates React Query cache"}
{"id":"gtdispat-156","title":"Digest: mol-refinery-patrol","description":"Patrol: no merges, queue empty, no polecat branches found.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:40:29.25597-06:00","updated_at":"2026-01-13T19:40:29.25597-06:00","closed_at":"2026-01-13T19:40:29.255903-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-17a","title":"Backend: Enhanced bead API endpoints","description":"Add backend API endpoints for richer bead data and operations.\n\n## New Endpoints\n- GET /beads/:id/detail - Full bead with deps, comments, activity\n- GET /beads/:id/deps - Dependency tree (blocks/blocked-by)  \n- POST /beads/:id/deps - Add dependency\n- DELETE /beads/:id/deps/:depId - Remove dependency\n- GET /beads/:id/comments - List comments\n- POST /beads/:id/comments - Add comment\n- PUT /beads/:id - Update bead fields\n- POST /beads/:id/assign - Assign to user\n\n## New Types\n- BeadDetail (full bead with deps, comments)\n- DependencyInfo (id, title, status, direction)\n- Comment (id, author, content, created_at)\n\n## Implementation\n- Wrap bd show, bd dep list/add/rm, bd comments commands\n- Parse dependency tree output","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:18:19.677932-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:19.677932-06:00"}
{"id":"gtdispat-19v","title":"Pipeline Visibility \u0026 Automation","description":"Complete end-to-end pipeline visibility in the WUI.\n\n## Problem\nCurrently the WUI only shows development work (beads, polecats). There's no visibility into:\n- Code review status\n- Merge queue state\n- Test results\n- Deployment status\n- Production health\n\n## Goal\nEvery stage from \"bead created\" to \"deployed and monitored\" should be visible in the WUI.\n\n## Pipeline Stages\n1. **Development** ✓ (beads, polecats, epics)\n2. **Code Review** (branch status, review comments, approval)\n3. **Integration** (merge queue, conflict resolution, CI checks)\n4. **Testing** (test runs, coverage, quality gates)\n5. **Deployment** (staging, production, rollback capability)\n6. **Monitoring** (health checks, errors, performance)\n\n## Implementation\nEach stage needs:\n- Backend API endpoints for data\n- Frontend UI components for visualization\n- Real-time updates (SSE)\n- Action buttons (approve, merge, deploy, rollback)\n\n## References\n- GitHub API for PR/review data\n- CI/CD system integration\n- Deployment tracking\n- APM/logging integration","status":"open","priority":1,"issue_type":"epic","owner":"efritsch@versova.com","created_at":"2026-01-13T09:50:44.326209-06:00","created_by":"mayor","updated_at":"2026-01-13T09:50:44.326209-06:00","labels":["infrastructure","pipeline","visibility"]}
{"id":"gtdispat-1h0","title":"Digest: mol-refinery-patrol","description":"Patrol: merged 1 branch (rictus/gtdispat-dei accessibility components), clean rebase, notified witness. Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T10:05:01.501537-06:00","updated_at":"2026-01-13T10:05:01.501537-06:00","closed_at":"2026-01-13T10:05:01.501478-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-256","title":"Frontend: Create convoy modal with issue picker","description":"Build a proper create convoy modal that lets users select issues to track.\n\n## Modal Design\n- Triggered by 'New Convoy' button\n- Multi-step or single form\n\n## Fields\n1. **Convoy Name** (required)\n   - Text input\n   - Auto-suggest from first selected issue title\n\n2. **Issue Picker** (required, multi-select)\n   - Searchable list of available issues\n   - Show: ID, title, status, rig\n   - Filter by: rig, status, type\n   - Checkbox selection\n   - Selected issues shown as chips above\n\n3. **Notify Address** (optional)\n   - Dropdown/input for notification target\n   - Default options: mayor/, ops/\n   - Custom address option\n\n4. **Molecule** (optional, advanced)\n   - Link to existing molecule\n   - Collapsed by default\n\n## Behavior\n- Validate at least one issue selected\n- Show preview of convoy before creation\n- Loading state during creation\n- Success: close modal, select new convoy\n- Error: show inline error, keep modal open\n\n## API\n- GET /beads?status=open for issue list\n- POST /convoys for creation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:26:28.675648-06:00","created_by":"erik","updated_at":"2026-01-07T09:40:59.406658-06:00","closed_at":"2026-01-07T09:40:59.406658-06:00","close_reason":"Implemented CreateConvoyModal with: searchable issue picker with checkbox selection, name input, notify address option, form validation, loading states, and error handling. Modal opens from New Convoy button and auto-selects created convoy.","dependencies":[{"issue_id":"gtdispat-256","depends_on_id":"gtdispat-sa8","type":"blocks","created_at":"2026-01-07T09:26:42.709668-06:00","created_by":"erik"}]}
{"id":"gtdispat-2cr","title":"Epic: Dispatch (Mayor Chat)","description":"Implement the Dispatch page with actual Mayor interaction. Phase 1: subprocess spawning with context injection.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-06T10:01:28.109715-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.145281-06:00","closed_at":"2026-01-06T10:37:11.9836-06:00","close_reason":"Dispatch (Mayor Chat) implemented: SSE streaming, session management, message handling, frontend wired"}
{"id":"gtdispat-2cr.1","title":"Design Dispatch backend service","description":"Create src/backend/src/services/dispatch.ts with subprocess spawning logic. Define how to inject town context and capture output.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:02:15.33019-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.144313-06:00","closed_at":"2026-01-06T10:36:14.195433-06:00","close_reason":"Dispatch backend service designed with session management, message handling, and SSE streaming","dependencies":[{"issue_id":"gtdispat-2cr.1","depends_on_id":"gtdispat-2cr","type":"parent-child","created_at":"2026-01-06T10:02:15.330712-06:00","created_by":"erik"}]}
{"id":"gtdispat-2cr.2","title":"Add Dispatch SSE endpoint","description":"Implement POST /api/dispatch/chat that spawns Claude subprocess and streams responses via SSE. Track session state.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:02:15.433318-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.14406-06:00","closed_at":"2026-01-06T10:36:49.838225-06:00","close_reason":"Dispatch SSE endpoint already implemented at /api/stream/dispatch with session management and message broadcasting","dependencies":[{"issue_id":"gtdispat-2cr.2","depends_on_id":"gtdispat-2cr","type":"parent-child","created_at":"2026-01-06T10:02:15.433779-06:00","created_by":"erik"},{"issue_id":"gtdispat-2cr.2","depends_on_id":"gtdispat-2cr.1","type":"blocks","created_at":"2026-01-06T10:02:29.950688-06:00","created_by":"erik"}]}
{"id":"gtdispat-2cr.3","title":"Wire Dispatch frontend to SSE stream","description":"Update Dispatch.tsx to connect to SSE endpoint, display streaming responses, show actions taken.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:02:15.537743-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.143823-06:00","closed_at":"2026-01-06T10:37:00.444315-06:00","close_reason":"Dispatch frontend already wired to SSE stream with real-time message updates, connection status, and Mayor-styled responses","dependencies":[{"issue_id":"gtdispat-2cr.3","depends_on_id":"gtdispat-2cr","type":"parent-child","created_at":"2026-01-06T10:02:15.538427-06:00","created_by":"erik"},{"issue_id":"gtdispat-2cr.3","depends_on_id":"gtdispat-2cr.2","type":"blocks","created_at":"2026-01-06T10:02:30.001676-06:00","created_by":"erik"}]}
{"id":"gtdispat-2cr.4","title":"Add Dispatch transcript persistence","description":"Store dispatch conversations locally (localStorage or file). Allow resuming conversations, link to created beads/convoys.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T10:02:15.642071-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.145516-06:00","closed_at":"2026-01-06T10:41:53.777155-06:00","close_reason":"Dispatch transcript persistence: auto-save to .dispatch/transcripts/, list/load APIs, session end saves final state","dependencies":[{"issue_id":"gtdispat-2cr.4","depends_on_id":"gtdispat-2cr","type":"parent-child","created_at":"2026-01-06T10:02:15.642621-06:00","created_by":"erik"}]}
{"id":"gtdispat-2lg","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-09T13:20:26.983048-06:00","created_by":"erik","updated_at":"2026-01-09T13:20:26.983048-06:00"}
{"id":"gtdispat-35u","title":"Epic: Backend API Implementation","description":"Implement all backend API endpoints to wrap gt/bd CLI commands. This epic covers making the API actually functional against a real Gas Town installation.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-06T10:01:27.890115-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.143527-06:00","closed_at":"2026-01-06T10:37:11.859228-06:00","close_reason":"Backend API complete: status, convoys, beads, actions, SSE streaming all implemented"}
{"id":"gtdispat-35u.1","title":"Install backend dependencies and verify build","description":"Run npm install in src/backend, fix any TypeScript errors, ensure npm run dev starts without errors.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:44.687865-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.142527-06:00","closed_at":"2026-01-06T10:25:36.581392-06:00","close_reason":"Backend deps installed, TypeScript passes, town root detection added","dependencies":[{"issue_id":"gtdispat-35u.1","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:44.688577-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.2","title":"Implement town root detection","description":"Add logic to detect GT_TOWN_ROOT from environment or auto-detect from cwd. The backend needs to know where the Gas Town installation is.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:44.781904-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.142285-06:00","closed_at":"2026-01-06T10:25:36.682112-06:00","close_reason":"Town root detection implemented via GT_TOWN_ROOT env var and .gastown directory walk","dependencies":[{"issue_id":"gtdispat-35u.2","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:44.782353-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.3","title":"Test and fix status endpoint","description":"Verify GET /api/status calls gt status --json correctly and returns proper data. Handle errors gracefully when Gas Town is not running.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:44.888113-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.142016-06:00","closed_at":"2026-01-06T10:27:48.895108-06:00","close_reason":"Status endpoint working: returns {initialized: false, error} when no Gas Town workspace found, caches successful responses. Backend starts cleanly on port 3001.","dependencies":[{"issue_id":"gtdispat-35u.3","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:44.888616-06:00","created_by":"erik"},{"issue_id":"gtdispat-35u.3","depends_on_id":"gtdispat-35u.1","type":"blocks","created_at":"2026-01-06T10:02:28.912642-06:00","created_by":"erik"},{"issue_id":"gtdispat-35u.3","depends_on_id":"gtdispat-35u.2","type":"blocks","created_at":"2026-01-06T10:02:28.964448-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.4","title":"Test and fix convoy endpoints","description":"Verify convoy list, status, create, add endpoints work correctly. Test against real Gas Town data.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:44.985897-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.141744-06:00","closed_at":"2026-01-06T10:28:34.194758-06:00","close_reason":"Convoy endpoints implemented and return proper errors when not in Gas Town workspace","dependencies":[{"issue_id":"gtdispat-35u.4","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:44.986417-06:00","created_by":"erik"},{"issue_id":"gtdispat-35u.4","depends_on_id":"gtdispat-35u.3","type":"blocks","created_at":"2026-01-06T10:02:29.076765-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.5","title":"Test and fix beads endpoints","description":"Verify beads list, ready, blocked, show, create, update, close endpoints work correctly. Test filtering.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:45.091373-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.141481-06:00","closed_at":"2026-01-06T10:28:34.249249-06:00","close_reason":"Beads endpoints working: tested list (18 beads), ready (10 ready), showing correct JSON responses","dependencies":[{"issue_id":"gtdispat-35u.5","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:45.091882-06:00","created_by":"erik"},{"issue_id":"gtdispat-35u.5","depends_on_id":"gtdispat-35u.3","type":"blocks","created_at":"2026-01-06T10:02:29.127153-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.6","title":"Test and fix action endpoints","description":"Verify start, shutdown, sling, rig add, crew add, nudge, doctor endpoints work correctly.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:45.196077-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.141232-06:00","closed_at":"2026-01-06T10:28:34.302364-06:00","close_reason":"Action endpoints implemented, return proper errors for gt commands when not in Gas Town workspace, doctor endpoint returns stdout/stderr","dependencies":[{"issue_id":"gtdispat-35u.6","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:45.196566-06:00","created_by":"erik"},{"issue_id":"gtdispat-35u.6","depends_on_id":"gtdispat-35u.3","type":"blocks","created_at":"2026-01-06T10:02:29.181777-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.7","title":"Add SSE endpoint for log streaming","description":"Implement GET /api/stream/logs/:source that tails gt log output and streams via Server-Sent Events.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:01:45.300929-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.14503-06:00","closed_at":"2026-01-06T10:36:14.141837-06:00","close_reason":"SSE endpoints implemented: /api/stream/logs and /api/stream/dispatch with client management, buffering, and broadcast","dependencies":[{"issue_id":"gtdispat-35u.7","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:45.301427-06:00","created_by":"erik"}]}
{"id":"gtdispat-3h5","title":"Backend: SSE bead updates subscription","description":"Add SSE endpoint for real-time bead updates.\n\n## Endpoint\nGET /stream/beads (SSE stream)\n\n## Events\n1. **bead:created** - New bead created\n2. **bead:updated** - Bead fields changed\n3. **bead:closed** - Bead closed\n4. **bead:reopened** - Bead reopened\n5. **dep:added** - Dependency added\n6. **dep:removed** - Dependency removed\n7. **comment:added** - New comment\n\n## Implementation\n- BeadStreamer class in streaming.ts\n- Poll bd list periodically (5s)\n- Diff against cached state\n- Emit events for changes\n\n## Frontend Integration\n- useBeadSubscription hook\n- Auto-refresh queries on events","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T14:19:12.05389-06:00","created_by":"erik","updated_at":"2026-01-07T14:19:12.05389-06:00"}
{"id":"gtdispat-3ky","title":"Beads Screen Redesign","description":"dispatched_by: mayor\n\nComplete redesign of the beads screen with master-detail layout, rich data display, and full action support.\n\n## Goals\n- Replace current sparse list with interactive master-detail view\n- Show dependencies, comments, activity history\n- Enable all bead actions (create, update, close, assign, manage deps)\n- Real-time updates via SSE\n\n## Key Features\n1. Master-detail layout (list + detail panel)\n2. Rich bead list with status badges, priority, type indicators\n3. Full detail panel with description, deps, comments\n4. Create bead modal with all fields\n5. Dependency management UI\n6. Action buttons for all bead operations\n7. SSE for real-time updates\n\n## References\n- Current UI: src/frontend/src/pages/Beads.tsx\n- Backend service: src/backend/src/services/beads.ts\n- bd commands: create, update, close, dep add/rm/tree","status":"closed","priority":1,"issue_type":"epic","assignee":"gtdispat/polecats/furiosa","created_at":"2026-01-07T14:18:09.503946-06:00","created_by":"erik","updated_at":"2026-01-14T13:06:12.368278-06:00","closed_at":"2026-01-13T08:46:49.905946-06:00"}
{"id":"gtdispat-3q4","title":"Backend: SSE dashboard updates subscription","description":"Add SSE endpoint for real-time dashboard updates.\n\n## Endpoint\nGET /stream/dashboard (SSE stream)\n\n## Events\n1. **metrics:update** - Metrics changed (every 5s or on change)\n2. **agent:status** - Agent status change\n3. **rig:status** - Rig started/stopped\n4. **work:progress** - Work state changed\n5. **alert:new** - New alert triggered\n6. **alert:resolved** - Alert cleared\n7. **health:update** - Health score changed\n\n## Payload Examples\n\n\n## Implementation\n- DashboardStreamer class\n- Aggregate events from other streamers (agent, convoy, logs)\n- Debounce rapid updates\n- Send only changed fields (delta updates)\n\n## Frontend Integration\n- useDashboardSubscription hook\n- Optimistic updates for metrics\n- Animation triggers on events\n- Alert sound/notification triggers","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T14:49:25.493227-06:00","created_by":"erik","updated_at":"2026-01-07T14:49:25.493227-06:00"}
{"id":"gtdispat-3tv","title":"Tailwind config enhancement","description":"Enhance Tailwind configuration with design system tokens.\n\n## Colors\n- Semantic colors using CSS variables (background, foreground, card, etc.)\n- Status colors (status-online, status-offline, etc.)\n- Gas Town industrial palette\n\n## Typography\n- Font families (sans, display, mono)\n- Font sizes with line heights (2xs through 7xl)\n- Display, body, and label typography scales\n- Letter spacing scale\n\n## Animations\n- Keyframes: fade-in, blur-fade-*, shimmer, scale-in/out, slide-in-*, glow-pulse\n- Animation utilities with proper durations\n- Transition timing functions (ease-out-expo, ease-spring, etc.)\n\n## Shadows\n- Map CSS variables to Tailwind utilities\n- Glow variants for status colors\n\n## Spacing\n- Touch target utilities (min-h-touch, min-w-touch)\n\n## Files\n- tailwind.config.js\n\n## Reference\nAdapted from gastown_ui/tailwind.config.js","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-08T07:10:25.500014-06:00","created_by":"erik","updated_at":"2026-01-08T07:10:25.500014-06:00","dependencies":[{"issue_id":"gtdispat-3tv","depends_on_id":"gtdispat-eh0","type":"blocks","created_at":"2026-01-08T07:10:25.501127-06:00","created_by":"erik"}]}
{"id":"gtdispat-45y","title":"Digest: mol-refinery-patrol","description":"Patrol: merged 2 branches (rictus PTY service + dementus PTY frontend), clean rebases, notified witness. Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:21:39.659249-06:00","updated_at":"2026-01-13T19:21:39.659249-06:00","closed_at":"2026-01-13T19:21:39.659193-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-46r","title":"Frontend: Create bead modal","description":"Build modal for creating new beads.\n\n## Form Fields\n- Title (required)\n- Description (markdown textarea)\n- Type dropdown (bug, feature, task, epic, chore)\n- Priority dropdown (P0-P4)\n- Assignee (optional)\n- Labels (multi-select/tags)\n- Parent issue (optional, for epics)\n- Initial dependencies (optional issue picker)\n\n## Features\n- Form validation\n- Type-specific defaults (bugs = P1, features = P2)\n- Parent picker filtered to epics\n- Dependency picker with search\n- Success callback to select new bead\n\n## API\n- POST /beads (create bead)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:18:45.686561-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:45.686561-06:00"}
{"id":"gtdispat-470","title":"Backend: SSE agent updates subscription","description":"Add SSE endpoint for real-time agent updates.\n\n## Endpoint\nGET /stream/agents (SSE stream)\n\n## Events\n1. **agent:status** - Agent running/stopped state changed\n2. **agent:work** - Agent work assignment changed\n3. **agent:state** - Agent state changed (idle/working/stuck)\n4. **agent:mail** - New mail received\n5. **polecat:added** - New polecat spawned\n6. **polecat:removed** - Polecat removed\n7. **rig:status** - Rig started/stopped\n\n## Implementation\n- AgentStreamer class in streaming.ts\n- Poll gt status periodically (5s)\n- Diff against cached state\n- Emit events for changes\n\n## Frontend Integration\n- useAgentSubscription hook\n- Auto-refresh agent queries on events\n- Update tree indicators in real-time","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T14:39:33.406306-06:00","created_by":"erik","updated_at":"2026-01-07T14:39:33.406306-06:00"}
{"id":"gtdispat-4l4","title":"Frontend: Convoy detail panel with tracked issues table","description":"Build the convoy detail panel showing full information and tracked issues.\n\n## Header Section\n- Convoy title (large)\n- ID (copyable)\n- Status badge with state-specific styling\n- Created/Updated timestamps\n- Formula name (if attached)\n- Notify address (if set)\n\n## Progress Section\n- Visual breakdown of tracked issues by status:\n  - Open (gray)\n  - In Progress (amber)\n  - Hooked (blue)\n  - Closed (green)\n- Percentage complete\n- Estimated completion (if available)\n\n## Tracked Issues Table\nColumns:\n- Status icon (○/▶/✓)\n- Issue ID (link to beads page)\n- Title\n- Status text\n- Assignee\n- Worker (with activity dot)\n- Time in state\n- Actions (remove from convoy)\n\nFeatures:\n- Sortable columns\n- Status filter chips\n- Expandable rows for issue details\n- Empty state handling\n\n## Components\n- ConvoyHeader\n- ConvoyProgressChart\n- TrackedIssuesTable\n- IssueStatusIcon\n- WorkerBadge","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T09:25:55.385968-06:00","created_by":"erik","updated_at":"2026-01-07T09:37:47.238333-06:00","closed_at":"2026-01-07T09:37:47.238333-06:00","close_reason":"Merged into gtdispat-hr6 - detail panel with tracked issues table implemented as part of master-detail layout.","dependencies":[{"issue_id":"gtdispat-4l4","depends_on_id":"gtdispat-sa8","type":"blocks","created_at":"2026-01-07T09:26:42.651393-06:00","created_by":"erik"},{"issue_id":"gtdispat-4l4","depends_on_id":"gtdispat-hr6","type":"blocks","created_at":"2026-01-07T09:26:42.875989-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4","title":"Epic: Frontend Integration","description":"Wire up all frontend pages to the backend API. Make the UI actually display real data and execute real actions.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-06T10:01:27.994452-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.143175-06:00","closed_at":"2026-01-06T10:37:11.923298-06:00","close_reason":"Frontend integration complete: all pages wired to API with proper error handling and StatusResponse support"}
{"id":"gtdispat-4p4.1","title":"Install frontend dependencies and verify build","description":"Run npm install in src/frontend, fix any TypeScript errors, ensure npm run dev starts Vite without errors.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:02:02.750852-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.140935-06:00","closed_at":"2026-01-06T10:25:36.783865-06:00","close_reason":"Frontend deps installed, TypeScript passes, Vite build succeeds","dependencies":[{"issue_id":"gtdispat-4p4.1","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:02.751347-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.2","title":"Wire Overview page to live API","description":"Connect Overview page to /api/status. Display real town data, handle loading/error states, make start/shutdown buttons work.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:02:02.859766-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.140512-06:00","closed_at":"2026-01-06T10:31:29.125111-06:00","close_reason":"Overview page wired: shows 'not configured' state when Gas Town unavailable, displays stats/agents/rigs when connected","dependencies":[{"issue_id":"gtdispat-4p4.2","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:02.860276-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.2","depends_on_id":"gtdispat-4p4.1","type":"blocks","created_at":"2026-01-06T10:02:29.276593-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.2","depends_on_id":"gtdispat-35u.3","type":"blocks","created_at":"2026-01-06T10:02:29.327405-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.3","title":"Wire Convoys page to live API","description":"Connect Convoys page to /api/convoys. List real convoys, show details on click, implement create convoy modal.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:02:02.956682-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.140197-06:00","closed_at":"2026-01-06T10:31:29.178279-06:00","close_reason":"Convoys page wired to API with error handling and refresh","dependencies":[{"issue_id":"gtdispat-4p4.3","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:02.95715-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.3","depends_on_id":"gtdispat-4p4.1","type":"blocks","created_at":"2026-01-06T10:02:29.427784-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.3","depends_on_id":"gtdispat-35u.4","type":"blocks","created_at":"2026-01-06T10:02:29.479551-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.4","title":"Wire Beads page to live API","description":"Connect Beads page to /api/beads. List real beads, implement filters, show details, implement create bead modal.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:02:03.060215-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.139818-06:00","closed_at":"2026-01-06T10:31:29.232432-06:00","close_reason":"Beads page wired: list/ready views, filters, proper error display","dependencies":[{"issue_id":"gtdispat-4p4.4","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:03.060709-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.4","depends_on_id":"gtdispat-4p4.1","type":"blocks","created_at":"2026-01-06T10:02:29.590047-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.4","depends_on_id":"gtdispat-35u.5","type":"blocks","created_at":"2026-01-06T10:02:29.643514-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.5","title":"Wire Agents page to live API","description":"Connect Agents page to /api/status. Show real agents with status indicators, implement nudge functionality.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:02:03.164459-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.138907-06:00","closed_at":"2026-01-06T10:31:56.322698-06:00","close_reason":"Agents page wired to status API, displays global agents and rig-level agents with proper StatusResponse handling","dependencies":[{"issue_id":"gtdispat-4p4.5","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:03.164922-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.5","depends_on_id":"gtdispat-4p4.2","type":"blocks","created_at":"2026-01-06T10:02:29.747875-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.6","title":"Implement Logs page with SSE streaming","description":"Connect Logs page to /api/stream/logs. Implement real-time log tailing, search/filter, source switching.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:02:03.268729-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.144798-06:00","closed_at":"2026-01-06T10:36:24.942759-06:00","close_reason":"Logs page implemented with SSE streaming: live connection status, auto-scroll, filtering by source, search, and download","dependencies":[{"issue_id":"gtdispat-4p4.6","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:03.269223-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.6","depends_on_id":"gtdispat-35u.7","type":"blocks","created_at":"2026-01-06T10:02:29.849648-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.7","title":"Wire Settings page","description":"Make health check button work, implement town root switching, show real town info.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:02:03.370702-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.144568-06:00","closed_at":"2026-01-06T10:32:00.356549-06:00","close_reason":"Settings page wired to status API with doctor mutation working","dependencies":[{"issue_id":"gtdispat-4p4.7","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:03.371211-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.8","title":"Complete Onboarding wizard flow","description":"Make onboarding wizard actually call rig add, crew add APIs. Validate inputs, show progress, handle errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T10:02:03.472642-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.145721-06:00","closed_at":"2026-01-06T10:41:53.723174-06:00","close_reason":"Onboarding wizard enhanced: welcome step with connection check, skip option, proper navigation, step skip buttons","dependencies":[{"issue_id":"gtdispat-4p4.8","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:03.474246-06:00","created_by":"erik"}]}
{"id":"gtdispat-4q9","title":"Review \u0026 merge: Beads Screen Redesign (polecat/furiosa-mkcp6zbv)","description":"Review and merge the completed Beads Screen Redesign work.\n\nBranch: polecat/furiosa-mkcp6zbv\nEpic: gtdispat-3ky (closed)\nWorker: furiosa\n\n## Changes\n- Master-detail layout for beads page\n- Rich bead list with status badges\n- Create bead modal\n- Action buttons\n- SSE endpoint for real-time updates\n\n## Review Steps\n1. Check out branch and test locally\n2. Review code quality and patterns\n3. Verify all features work\n4. Merge to main\n5. Update production deployment","status":"open","priority":1,"issue_type":"task","owner":"efritsch@versova.com","created_at":"2026-01-13T09:50:33.372231-06:00","created_by":"mayor","updated_at":"2026-01-13T09:50:33.372231-06:00","labels":["merge","pipeline"]}
{"id":"gtdispat-55p","title":"Frontend: Bead detail panel with deps and comments","description":"Build comprehensive bead detail panel.\n\n## Sections\n1. **Header**\n   - Title (editable inline)\n   - Status badge\n   - Priority dropdown\n   - Type badge\n   - Action buttons\n\n2. **Description**\n   - Markdown rendered description\n   - Edit mode toggle\n\n3. **Metadata Grid**\n   - Created/Updated dates\n   - Assignee (with assign button)\n   - Labels (chip list)\n   - Parent (if any)\n\n4. **Dependencies Panel**\n   - 'Blocked by' section (issues this depends on)\n   - 'Blocks' section (issues that depend on this)\n   - Add dependency button\n   - Remove dependency (X on each)\n\n5. **Comments Section**\n   - Chronological comment list\n   - Add comment form\n   - Comment author/timestamp\n\n## Data Fetching\n- useQuery for bead detail\n- Separate queries for deps, comments","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:18:37.53278-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:37.53278-06:00"}
{"id":"gtdispat-57l","title":"Backend API for dashboard real-time metrics and events","description":"dispatched_by: mayor\n\nCreate SSE endpoint for real-time dashboard updates.\n\n## API Requirements\n- SSE endpoint: /api/dashboard/stream  \n- Push updates every 2-5 seconds\n- Include agent status, work activity, system health, recent events\n\n## Files\n- src/backend/src/api/routes.ts (add SSE endpoint)\n- src/backend/src/services/dashboard.ts (new service)","status":"closed","priority":1,"issue_type":"task","assignee":"gtdispat/polecats/coma","owner":"efritsch@versova.com","created_at":"2026-01-14T12:31:03.55104-06:00","created_by":"mayor","updated_at":"2026-01-14T12:39:21.403667-06:00","closed_at":"2026-01-14T12:39:21.403667-06:00","close_reason":"Implemented SSE endpoint for real-time dashboard updates at /api/dashboard/stream with polling every 3 seconds for agent status, work activity, system health, and events"}
{"id":"gtdispat-5ak","title":"Frontend: Rig detail drill-down panel","description":"Build drill-down detail panel for rig visualization.\n\n## Trigger\n- Click on rig in system schematic\n- Click on rig card\n- URL: /overview?rig=\u003cname\u003e\n\n## Panel Content (slide-in or modal)\n1. **Header**\n   - Rig name\n   - Status indicator\n   - Quick actions (start/stop/reboot)\n\n2. **Polecat Visualization**\n   - Grid/list of polecats\n   - Each shows: name, status, current work\n   - Click to see polecat detail\n   - Add/remove polecat buttons\n\n3. **Rig Metrics**\n   - Throughput for this rig\n   - Active workers\n   - Queue depth\n   - Error count\n\n4. **Work Flow**\n   - Mini schematic: Witness -\u003e Polecats -\u003e Refinery\n   - Show current work moving through\n\n5. **Recent Activity**\n   - Filtered activity stream for this rig\n   - Last 10 events\n\n## Navigation\n- Breadcrumb: Overview \u003e Rig Name\n- Back button to close panel\n- Navigate to Agents page filtered to rig\n\n## Animation\n- Slide in from right\n- Smooth transitions\n- Keep schematic visible (dimmed)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:49:04.141723-06:00","created_by":"erik","updated_at":"2026-01-07T14:49:04.141723-06:00"}
{"id":"gtdispat-5iz","title":"Digest: mol-refinery-patrol","description":"Patrol: merged 1 branch (capable/gtdispat-v2b.3 PTY lifecycle), clean rebase, notified witness. Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:49:29.780296-06:00","updated_at":"2026-01-13T19:49:29.780296-06:00","closed_at":"2026-01-13T19:49:29.780248-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-5oj","title":"Merge furiosa work","description":"Source: polecat/furiosa-mkcp6zbv\nTarget: main\nIssue: gtdispat-3ky (Beads Screen Redesign)\nCommits: bff422d, 7c0f45e","status":"closed","priority":1,"issue_type":"merge-request","owner":"efritsch@versova.com","created_at":"2026-01-13T09:51:01.824469-06:00","created_by":"gtdispat/refinery","updated_at":"2026-01-13T09:51:09.209578-06:00","closed_at":"2026-01-13T09:51:09.209578-06:00","close_reason":"Closed"}
{"id":"gtdispat-5ox","title":"Critical: PTY exits immediately on tmux attach (33ms lifespan)","description":"dispatched_by: mayor\n\nThe PTY service exits immediately when trying to attach to tmux, preventing terminal from working.\n\n## Symptoms\n\n- WebSocket connects then immediately closes\n- PTY exits within 33-200ms with signal=1 (SIGHUP)  \n- Terminal never loads properly\n- Text selection/copy doesn't work (terminal not connected)\n\n## Backend Logs\n\n```\nPTY exited for pane hq-mayor: exitCode=0, signal=1, lifespan=33ms\nTerminal WebSocket disconnected for pane: hq-mayor\n```\n\n## Root Cause\n\nThe tmux attach command in pty.ts line 25 is failing:\n```typescript\nconst pty = ptySpawn(shell, [\"-c\", `tmux attach-session -t \"${pane}\"`], {...});\n```\n\nPossible reasons:\n1. Tmux session already has a client attached (you're using it)\n2. Terminal state conflict  \n3. Shell exits immediately after attach\n4. Missing -d flag (attach without detaching other clients)\n\n## Fix\n\nTry using tmux attach with -r (read-only):\n```typescript\nconst pty = ptySpawn(shell, [\"-c\", `tmux attach-session -t \"${pane}\" -r`], {...});\n```\n\nOr use tmux pipe-pane to stream output without attaching:\n```typescript\nconst pty = ptySpawn(\"tmux\", [\"pipe-pane\", \"-t\", pane, \"cat\"], {...});\n```\n\n## Files\n\n- src/backend/src/services/pty.ts (line 25)","status":"closed","priority":0,"issue_type":"bug","assignee":"gtdispat/polecats/imperator","owner":"efritsch@versova.com","created_at":"2026-01-14T09:26:53.388461-06:00","created_by":"mayor","updated_at":"2026-01-14T09:32:37.760863-06:00","closed_at":"2026-01-14T09:32:37.760863-06:00","close_reason":"Fixed PTY immediate exit by spawning tmux directly instead of through a shell. Changed from 'bash -c tmux attach' to direct 'tmux attach' which eliminates the intermediate shell layer that was causing SIGHUP. This allows multiple clients to properly attach to the same tmux session."}
{"id":"gtdispat-5tp","title":"Logs Screen Redesign","description":"Complete redesign of the logs screen with proper per-agent log sources and enhanced filtering.\n\n## Current Issues\n- Individual source filters (deacon, mayor, witness, etc.) show nothing\n- Log source is 'gt-log' or 'daemon', not the actual agent name\n- No way to see logs from specific agent terminals\n- Limited log parsing and categorization\n\n## Goals\n- Per-agent log streaming (each agent's terminal output)\n- Proper source categorization in gt log events\n- Enhanced filtering by agent, rig, level, time range\n- Log aggregation from multiple sources\n- Search with highlighting\n\n## Key Features\n1. Multi-source log aggregation (gt log + per-agent peek)\n2. Proper source extraction from gt log events\n3. Agent terminal log streaming\n4. Advanced filtering (agent, rig, level, time)\n5. Log search with result highlighting\n6. Log export with filters applied\n7. Severity-based alerts/notifications\n\n## References\n- Current UI: src/frontend/src/pages/Logs.tsx\n- Backend: src/backend/src/services/streaming.ts\n- gt commands: log, peek","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T14:43:11.510947-06:00","created_by":"erik","updated_at":"2026-01-07T14:43:11.510947-06:00"}
{"id":"gtdispat-65p","title":"Bug: Cannot highlight and copy text in PTY terminal","description":"dispatched_by: mayor\n\nAfter switching to node-pty PTY proxy, text selection/copy is broken in the terminal.\n\n**Current behavior:**\n- Cannot highlight text with mouse\n- Copy does not work\n\n**Expected behavior:**\n- Mouse drag should highlight text\n- Highlighted text should be copyable (Cmd+C or right-click)\n\n**Context:**\nThis is a regression from the Terminal PTY Proxy Rewrite (gtdispat-v2b). The old capture-pane implementation may have had different selection handling.\n\n**Possible causes:**\n1. xterm.js selection disabled or misconfigured\n2. WebSocket binary mode interfering with selection\n3. CSS z-index or pointer-events blocking selection\n4. Missing xterm.js addon (clipboard addon?)\n\n**Investigation needed:**\n- Check Terminal.tsx for xterm.js selection config\n- Verify xterm-addon-web-links or other addons\n- Test if selection works but copy fails, or if selection itself fails\n- Check browser console for errors","status":"closed","priority":1,"issue_type":"bug","assignee":"gtdispat/polecats/cheedo","owner":"efritsch@versova.com","created_at":"2026-01-13T19:56:04.422755-06:00","created_by":"mayor","updated_at":"2026-01-13T20:01:50.982805-06:00","closed_at":"2026-01-13T20:01:50.982805-06:00","close_reason":"Fixed terminal text selection by enabling modifier key selection.\n\n## Root Cause\nWhen applications in the terminal (vim, less, etc.) enable mouse tracking mode (DECSET 1000/1002/1003), xterm.js passes mouse events to those applications instead of handling selection. This is correct behavior for app interaction.\n\n## Solution\nAdded xterm.js configuration options to Terminal.tsx:\n1. `macOptionClickForcesSelection: true` - Enables selection with modifier keys\n   - macOS: Hold Option/Alt while dragging to select text\n   - Windows/Linux: Hold Shift while dragging to select text\n2. `rightClickSelectsWord: true` - Enables word selection on right-click (macOS standard)\n\n## Testing\n1. Start the app and open a terminal\n2. To select text:\n   - **macOS**: Hold Option/Alt key and drag mouse over text\n   - **Windows/Linux**: Hold Shift key and drag mouse over text\n3. Copy with Cmd+C (Mac) or Ctrl+C (Windows/Linux)\n4. Right-click on a word should select it (macOS)\n\n## Changes\n- src/frontend/src/components/Terminal.tsx: Added macOptionClickForcesSelection and rightClickSelectsWord options\n\n## References\n- xterm.js Issue #4329: Difference in force selection modifier key across platforms\n- xterm.js Discussion #4320: Mouse events reporting toggle\n"}
{"id":"gtdispat-6kf","title":"Build sparkline and gauge components for metrics","description":"Create visual metric components for dashboard.\n\n## Components\n- Sparkline: Mini line chart for historical trends\n- Gauge: Circular gauge for percentage/capacity metrics\n- Counter: Animated number counter\n- Stat card: Combines metric with icon and label\n\n## Metrics to Show\n- Active work (gauge)\n- Completed today (counter + sparkline)\n- System capacity (gauge)\n- Response time (sparkline)\n\n## Files\n- src/frontend/src/components/dashboard/Sparkline.tsx (new)\n- src/frontend/src/components/dashboard/Gauge.tsx (new)\n- src/frontend/src/components/dashboard/MetricsPanel.tsx (new)","status":"open","priority":2,"issue_type":"task","owner":"efritsch@versova.com","created_at":"2026-01-14T12:31:53.076541-06:00","created_by":"mayor","updated_at":"2026-01-14T12:31:53.076541-06:00","dependencies":[{"issue_id":"gtdispat-6kf","depends_on_id":"gtdispat-57l","type":"blocks","created_at":"2026-01-14T12:32:21.033607-06:00","created_by":"mayor"}]}
{"id":"gtdispat-6rc","title":"Backend: Enhanced status API with metrics history","description":"Extend status API to support dashboard visualization needs.\n\n## New Endpoints\n- GET /status/metrics - Current metrics snapshot\n- GET /status/history - Historical metrics (last 1h, 24h)\n- GET /status/activity - Recent activity events\n\n## Metrics to Track\n- Work completed per hour (throughput)\n- Active polecats over time\n- Convoy completion rate\n- Error/crash count\n- Queue depth (pending work)\n- Agent utilization %\n\n## Activity Events\n- Agent spawn/wake/crash\n- Work assigned/completed\n- Convoy created/landed\n- Errors and alerts\n\n## Data Storage\n- In-memory ring buffer for recent metrics\n- Aggregate into time buckets (1min, 5min, 1hr)\n- Persist key metrics to disk (optional)\n\n## Response Format\n{\n  current: { polecats: 5, throughput: 12.3, ... },\n  history: { \n    '1h': [{ t: iso, polecats: 4, ... }, ...],\n    '24h': [...] \n  },\n  activity: [{ type, agent, message, timestamp }, ...]\n}","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:48:03.522049-06:00","created_by":"erik","updated_at":"2026-01-07T14:48:03.522049-06:00"}
{"id":"gtdispat-6u1","title":"Merge nux work","description":"Source: polecat/nux-mkcp8zhr\nTarget: main\nIssue: gtdispat-l65 (Agents Screen Redesign)\nCommits: df8c666","status":"closed","priority":1,"issue_type":"merge-request","owner":"efritsch@versova.com","created_at":"2026-01-13T09:51:02.797785-06:00","created_by":"gtdispat/refinery","updated_at":"2026-01-13T09:51:09.210991-06:00","closed_at":"2026-01-13T09:51:09.210991-06:00","close_reason":"Closed"}
{"id":"gtdispat-6up","title":"Bug: PTY text selection copy still broken after CSS fix","description":"dispatched_by: mayor\n\nText selection now highlights visually (after removing pointer-events:none), but copy functionality is completely broken.\n\n**Current behavior:**\n1. Text highlights when dragged (CSS fix worked)\n2. Selection does NOT auto-copy to clipboard (macOS expected behavior)\n3. Cmd+C after selecting does NOT copy the highlighted text\n4. Result: Cannot copy any text from terminal\n\n**Expected behavior (macOS standard):**\n- Option A (preferred): Selection auto-copies to clipboard (like native terminals)\n- Option B (acceptable): Selection persists and Cmd+C copies it\n\n**Analysis:**\nTerminal.tsx loads ClipboardAddon (line 77, 80) but it may need configuration:\n- Check if ClipboardAddon requires explicit copy-on-select option\n- Verify if browser clipboard API requires user gesture/permission\n- Test if xterm.js selection events fire correctly\n- May need to hook term.onSelectionChange to manually copy\n\n**Files to investigate:**\n- src/frontend/src/components/Terminal.tsx (ClipboardAddon config)\n- xterm.js ClipboardAddon documentation\n- Browser clipboard API permissions\n\n**Previous work:**\n- gtdispat-65p: Fixed CSS blocking selection (removed pointer-events:none)\n- gtdispat-v2b: PTY proxy rewrite\n- Commit f9ddbff: CSS fix\n\n**References:**\n- https://github.com/xtermjs/xterm.js/tree/master/addons/addon-clipboard\n- Clipboard API: navigator.clipboard.writeText()","status":"closed","priority":1,"issue_type":"bug","assignee":"gtdispat/polecats/valkyrie","owner":"efritsch@versova.com","created_at":"2026-01-14T08:44:34.391241-06:00","created_by":"mayor","updated_at":"2026-01-14T08:49:44.441606-06:00","closed_at":"2026-01-14T08:49:44.441606-06:00","close_reason":"Implemented copy-on-select using term.onSelectionChange() event handler that automatically copies selected text to clipboard via navigator.clipboard.writeText(). Based on xterm.js documentation - ClipboardAddon provides clipboard access but doesn't auto-copy, so manual implementation required."}
{"id":"gtdispat-77g","title":"Digest: mol-refinery-patrol","description":"Patrol: no merges, cleaned up stale branch (keeper-mke514r5 already merged as e422002). Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T09:12:16.844423-06:00","updated_at":"2026-01-14T09:12:16.844423-06:00","closed_at":"2026-01-14T09:12:16.844344-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-7d5","title":"Add test coverage for gtdispat","description":"The test runner exits with 'No test files found'. We need basic test coverage for backend services and frontend components.\n\n## Priority\nP2 - Important for long-term maintainability, but not blocking current work.\n\n## Scope\n- Backend: Test API routes, beads service, rigs service\n- Frontend: Test key components (Terminal, CommandLegend, Overview)\n- Integration: Test SSE streaming, terminal command execution\n\n## Context\nDiscovered during refinery merge processing. The project currently has no test files.","status":"open","priority":2,"issue_type":"task","owner":"efritsch@versova.com","created_at":"2026-01-13T08:44:23.386533-06:00","created_by":"gtdispat/refinery","updated_at":"2026-01-13T08:44:23.386533-06:00"}
{"id":"gtdispat-7np","title":"Frontend: Log export and persistence","description":"Enhance log export and add persistence features.\n\n## Export Enhancements\n- Export with current filters applied\n- Multiple formats: TXT, JSON, CSV\n- Include metadata (source, level, timestamp)\n- Export selection only option\n- Filename with date and filters\n\n## Log Persistence\n- Store logs in localStorage/IndexedDB\n- Configurable retention (last N logs or time period)\n- Survive page refresh\n- Load historical logs on connect\n\n## Export Options Modal\n- Format selector\n- Date range picker\n- Source filter\n- Include/exclude fields\n- Preview before download\n\n## API Support\n- GET /logs/export - Server-side export with filters\n- Query params: format, from, to, sources, levels\n- Streaming response for large exports","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:44:04.194117-06:00","created_by":"erik","updated_at":"2026-01-07T14:44:04.194117-06:00"}
{"id":"gtdispat-7ui","title":"Add Pipeline navigation section to WUI","description":"Add a Pipeline section to the WUI navigation to surface all pipeline stages.\n\n## Navigation Structure\nCurrently: Dashboard, Beads, Agents, Logs\nAdd: **Pipeline** section with sub-pages:\n- Reviews (code review)\n- Merge Queue\n- Tests\n- Deployments\n- Monitoring\n\n## Implementation\n- Update src/frontend/src/App.tsx with new routes\n- Add Pipeline section to navigation menu\n- Create placeholder pages for each sub-section\n- Link to detailed feature implementations\n\n## Design\n- Use consistent layout pattern (master-detail where appropriate)\n- Show pipeline flow visualization on main Pipeline page\n- Link stages together (Review -\u003e Queue -\u003e Test -\u003e Deploy -\u003e Monitor)\n- Show current state of each stage at a glance\n\n## Dependencies\nAll pipeline stage features depend on this navigation structure.","status":"open","priority":1,"issue_type":"feature","owner":"efritsch@versova.com","created_at":"2026-01-13T09:51:44.165285-06:00","created_by":"mayor","updated_at":"2026-01-13T09:51:44.165285-06:00","labels":["frontend","navigation","pipeline"]}
{"id":"gtdispat-8so","title":"Digest: mol-refinery-patrol","description":"Patrol: merged 1 branch (dag/gtdispat-65p terminal modifier key selection), clean rebase, notified witness. Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T08:46:47.223942-06:00","updated_at":"2026-01-14T08:46:47.223942-06:00","closed_at":"2026-01-14T08:46:47.223562-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-9ai","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-09T13:20:26.904591-06:00","created_by":"erik","updated_at":"2026-01-09T13:20:26.904591-06:00"}
{"id":"gtdispat-9bt","title":"Digest: mol-refinery-patrol","description":"Patrol: merged 1 branch (furiosa/gtdispat-3ky), resolved beads JSONL conflict, filed test coverage tracking bead. Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T08:45:41.960716-06:00","updated_at":"2026-01-13T08:45:41.960716-06:00","closed_at":"2026-01-13T08:45:41.960654-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-9cn","title":"Pipeline Stage: Deployment UI","description":"Add deployment visibility and control to the WUI.\n\n## Features\n- Show current deployment status (staging, production)\n- Display deployment history with versions\n- Show active version per environment\n- Rollback capability\n- Action buttons: Deploy to Staging, Deploy to Production, Rollback\n- Real-time deployment progress\n- Health checks post-deployment\n\n## Data Sources\n- Deployment tracking (git tags, deployment logs)\n- Environment status (staging/prod URLs)\n- Version information (package.json, git SHA)\n\n## UI Components\n- Deployments tab/page\n- Environment status cards (staging, prod)\n- Deployment history timeline\n- Deploy/rollback action buttons\n- Health check indicators\n\n## Backend APIs\n- GET /deployments - List deployments\n- GET /deployments/:env - Current deployment for environment\n- POST /deployments/:env/deploy - Trigger deployment\n- POST /deployments/:env/rollback - Rollback to previous version\n- GET /deployments/:env/health - Health check status","status":"open","priority":1,"issue_type":"feature","owner":"efritsch@versova.com","created_at":"2026-01-13T09:51:11.284706-06:00","created_by":"mayor","updated_at":"2026-01-13T09:51:11.284706-06:00","labels":["backend","deployment","frontend","pipeline"],"dependencies":[{"issue_id":"gtdispat-9cn","depends_on_id":"gtdispat-19v","type":"blocks","created_at":"2026-01-13T09:51:25.167367-06:00","created_by":"mayor"},{"issue_id":"gtdispat-9cn","depends_on_id":"gtdispat-7ui","type":"blocks","created_at":"2026-01-13T09:51:44.629424-06:00","created_by":"mayor"}]}
{"id":"gtdispat-9h0","title":"Bug: Terminal flashing/blinking constantly near bottom","description":"Terminal constantly flashes/blinks near the bottom (around input area) since recent copy-on-select changes.\n\n## Symptoms\n\nVisual flickering/flashing in terminal, especially near bottom/input area.\n\n## Root Cause\n\nConsole shows onSelectionChange firing constantly with empty selections:\n```\n[Terminal] Selection changed event fired\n[Terminal] Selection length: 0 chars\n[Terminal] No selection to copy\n```\n\nThese constant events (even when user isn't interacting) are likely causing:\n- Repeated clipboard.writeText() calls\n- Console spam\n- DOM repaints/reflows → visual flashing\n\n## Fix\n\nAdd debouncing and deduplication to onSelectionChange handler:\n\n```typescript\nlet lastSelection = '';\nlet debounceTimer: NodeJS.Timeout | null = null;\n\nterm.onSelectionChange(() =\u003e {\n  // Debounce to avoid spam\n  if (debounceTimer) clearTimeout(debounceTimer);\n  \n  debounceTimer = setTimeout(() =\u003e {\n    const selection = term.getSelection();\n    \n    // Skip if selection hasn't changed (deduplication)\n    if (selection === lastSelection) {\n      return;\n    }\n    lastSelection = selection;\n    \n    console.log('[Terminal] Selection changed event fired');\n    console.log('[Terminal] Selection length:', selection?.length, 'chars');\n    console.log('[Terminal] Selection text:', selection?.substring(0, 50));\n    \n    if (selection) {\n      navigator.clipboard.writeText(selection)\n        .then(() =\u003e console.log('[Terminal] ✓ Successfully copied'))\n        .catch(err =\u003e console.error('[Terminal] ✗ Clipboard error:', err));\n    }\n  }, 50); // 50ms debounce\n});\n```\n\nThis will:\n1. Stop constant event spam\n2. Stop flashing/blinking  \n3. Only copy when selection actually changes\n4. Reduce console noise\n\n## Related Issues\n\n- gtdispat-z3v: getSelection() returns empty (same root cause)\n\n## Files\n\n- src/frontend/src/components/Terminal.tsx (lines 92-110)","status":"closed","priority":0,"issue_type":"bug","owner":"efritsch@versova.com","created_at":"2026-01-14T09:33:18.889069-06:00","created_by":"mayor","updated_at":"2026-01-14T12:25:23.1107-06:00","closed_at":"2026-01-14T12:25:23.1107-06:00","close_reason":"Fixed by reverting to eb00e0f. Terminal no longer flashes since we removed the problematic selection spam guards and ClipboardAddon changes. Back to clean valkyrie implementation. Commit: 9850dad","dependencies":[{"issue_id":"gtdispat-9h0","depends_on_id":"gtdispat-z3v","type":"blocks","created_at":"2026-01-14T09:33:33.174394-06:00","created_by":"mayor"}]}
{"id":"gtdispat-9z2","title":"Digest: mol-refinery-patrol","description":"Patrol: merged 1 branch (cheedo/gtdispat-65p terminal copy/paste fix), clean rebase, notified witness. Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T20:00:49.187585-06:00","updated_at":"2026-01-13T20:00:49.187585-06:00","closed_at":"2026-01-13T20:00:49.187524-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-a2d","title":"Digest: mol-refinery-patrol","description":"Patrol: merged 1 branch (imperator/gtdispat-5ox PTY tmux spawn fix), cleaned up stale branch (organic), notified witness. Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T12:35:38.182843-06:00","updated_at":"2026-01-14T12:35:38.182843-06:00","closed_at":"2026-01-14T12:35:38.182783-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-a4s","title":"Backend: Enhanced agent API endpoints","description":"Add backend API endpoints for richer agent data and operations.\n\n## New Endpoints\n- GET /agents - List all agents with detailed status\n- GET /agents/:address - Single agent detail\n- GET /agents/:address/mail - Agent mailbox\n- GET /agents/:address/peek - Recent terminal output\n- POST /agents/:address/nudge - Send nudge message\n- GET /rigs - List rigs with agent info\n- GET /rigs/:name/polecats - List polecats in rig\n- POST /rigs/:name/polecats - Add polecat\n- DELETE /rigs/:name/polecats/:name - Remove polecat\n- POST /rigs/:name/polecats/:name/nuke - Nuke polecat\n\n## New Types  \n- AgentDetail (extended agent with mail, work details)\n- MailMessage (from, subject, timestamp, read)\n- PolecatStatus (name, state, work, branch, worktree)\n- RigDetail (name, path, agents, polecats)\n\n## Implementation\n- Wrap gt status, gt polecat list/status, gt nudge, gt peek, gt mail","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:38:17.780496-06:00","created_by":"erik","updated_at":"2026-01-07T14:38:17.780496-06:00"}
{"id":"gtdispat-afc","title":"Build interactive node components for system schematic","description":"Create reusable node components for agents in schematic.\n\n## Features\n- Click to navigate to agent detail page\n- Hover shows tooltip with status/work info\n- Visual states: running, idle, working, error\n- Animated indicators for activity\n- Badge showing work count\n\n## Files\n- src/frontend/src/components/dashboard/AgentNode.tsx (new)\n- src/frontend/src/components/dashboard/RigNode.tsx (new)","status":"open","priority":2,"issue_type":"task","owner":"efritsch@versova.com","created_at":"2026-01-14T12:31:44.746855-06:00","created_by":"mayor","updated_at":"2026-01-14T12:31:44.746855-06:00","dependencies":[{"issue_id":"gtdispat-afc","depends_on_id":"gtdispat-rai","type":"blocks","created_at":"2026-01-14T12:32:20.856452-06:00","created_by":"mayor"}]}
{"id":"gtdispat-b76","title":"Create new Overview page layout for visual dashboard","description":"Replace current card-based layout with visual dashboard layout.\n\n## Layout Structure\n- Top: System schematic (60% height)\n- Bottom split:\n  - Left: Real-time metrics panel (sparklines/gauges)\n  - Right: Activity stream/recent events\n\n## Requirements\n- Responsive grid layout\n- Dark industrial aesthetic\n- Smooth transitions\n- Maintain header with start/shutdown controls\n\n## Files\n- src/frontend/src/pages/Overview.tsx (major redesign)","status":"open","priority":1,"issue_type":"task","owner":"efritsch@versova.com","created_at":"2026-01-14T12:31:41.102223-06:00","created_by":"mayor","updated_at":"2026-01-14T12:31:41.102223-06:00","dependencies":[{"issue_id":"gtdispat-b76","depends_on_id":"gtdispat-rai","type":"blocks","created_at":"2026-01-14T12:32:21.113558-06:00","created_by":"mayor"}]}
{"id":"gtdispat-bed","title":"Digest: mol-refinery-patrol","description":"Patrol: merged 1 branch (morsov/gtdispat-e5j plain drag text selection), clean rebase, notified witness. Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T09:15:27.863133-06:00","updated_at":"2026-01-14T09:15:27.863133-06:00","closed_at":"2026-01-14T09:15:27.863024-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-bgc","title":"Review \u0026 merge: Agents Screen Redesign (polecat/nux-mkcp8zhr)","description":"Review and merge the completed Agents Screen Redesign work.\n\nBranch: polecat/nux-mkcp8zhr\nEpic: gtdispat-l65 (closed)\nWorker: nux\n\n## Changes\n- Master-detail layout with agent tree\n- Agent detail panel with status\n- Polecat management UI\n- Interactive controls (nudge, peek, terminal)\n\n## Review Steps\n1. Check out branch and test locally\n2. Review code quality and patterns\n3. Verify all features work\n4. Merge to main\n5. Update production deployment","status":"open","priority":1,"issue_type":"task","owner":"efritsch@versova.com","created_at":"2026-01-13T09:50:33.497705-06:00","created_by":"mayor","updated_at":"2026-01-13T09:50:33.497705-06:00","labels":["merge","pipeline"]}
{"id":"gtdispat-bm7","title":"Frontend: Redesign logs page with master-detail","description":"Redesign logs page with master-detail layout for better navigation.\n\n## Layout\n- Left panel (240px): Source tree/list\n- Right panel (flex): Log viewer\n\n## Source Tree\n- All Logs (aggregated)\n- System\n  - Daemon\n  - gt-log events\n- Global Agents\n  - Mayor\n  - Deacon\n- Per Rig (expandable)\n  - Witness\n  - Refinery\n  - Polecats (list)\n\n## Source Selection\n- Click to filter to that source\n- Multi-select with Cmd/Ctrl click\n- Visual indicator for active sources\n- Unread/new log count badges\n\n## Log Viewer Enhancements\n- Virtual scrolling for performance\n- Sticky timestamp headers\n- Log level icons\n- Agent avatar/badge per line\n- Expand/collapse long messages\n\n## Components\n- LogSourceTree - Collapsible source selector\n- LogSourceItem - Single source with badge\n- LogViewer - Virtualized log display\n- LogEntry - Single log line component","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:43:44.591233-06:00","created_by":"erik","updated_at":"2026-01-07T14:43:44.591233-06:00","dependencies":[{"issue_id":"gtdispat-bm7","depends_on_id":"gtdispat-3tv","type":"blocks","created_at":"2026-01-08T07:11:11.01737-06:00","created_by":"erik"}]}
{"id":"gtdispat-bnl","title":"Backend: Add per-agent log streaming","description":"Add ability to stream logs from individual agent terminals.\n\n## New Endpoints\n- GET /stream/logs/:agent - SSE stream for specific agent's terminal\n- GET /logs/:agent/recent - Recent lines from agent terminal (via peek)\n\n## Implementation\n- AgentLogStreamer class that wraps 'gt peek -f \u003cagent\u003e'\n- Map agent address to tmux session\n- Parse and categorize output lines\n- Handle multiple concurrent agent streams\n\n## Agent Session Mapping\n- mayor -\u003e gt-mayor\n- deacon -\u003e gt-deacon\n- \u003crig\u003e/witness -\u003e gt-\u003crig\u003e-witness\n- \u003crig\u003e/refinery -\u003e gt-\u003crig\u003e-refinery\n- \u003crig\u003e/\u003cpolecat\u003e -\u003e gt-\u003crig\u003e-\u003cpolecat\u003e\n\n## Output Parsing\n- Detect tool calls, thinking, responses\n- Extract timestamps if present\n- Categorize by severity (error keywords, etc.)\n\n## Resource Management\n- Start streaming when first client connects to agent\n- Stop when no clients for that agent\n- Limit concurrent streams","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:43:33.398657-06:00","created_by":"erik","updated_at":"2026-01-07T14:43:33.398657-06:00"}
{"id":"gtdispat-c03","title":"Frontend: Synthesis workflow UI","description":"Build UI for convoy synthesis workflow support.\n\n## Synthesis Panel (in convoy detail)\nShows when convoy has formula or multiple legs.\n\n### States\n\n**Not Ready**\n- Show list of incomplete legs\n- Each leg shows: title, status, assignee\n- Progress bar for overall completion\n- Disabled 'Start Synthesis' button with tooltip\n\n**Ready**\n- Green 'All legs complete' indicator\n- Active 'Start Synthesis' button\n- Leg outputs preview (collapsible)\n\n**In Progress**\n- Show synthesis bead status\n- Link to synthesis bead\n- Worker info if assigned\n\n**Complete**\n- Show synthesis output (if available)\n- Link to output file/content\n\n## Start Synthesis Modal\n- Target rig selector (dropdown)\n- Review ID input (auto-filled from convoy)\n- Dry-run option (preview only)\n- Confirm button\n\n## API Calls\n- GET /synthesis/:id/status\n- POST /convoys/:id/synthesis","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:26:28.87966-06:00","created_by":"erik","updated_at":"2026-01-07T09:53:01.173125-06:00","closed_at":"2026-01-07T09:53:01.173125-06:00","close_reason":"Implemented SynthesisPanel with ready/not-ready states, incomplete legs list, start modal with rig selector","dependencies":[{"issue_id":"gtdispat-c03","depends_on_id":"gtdispat-sa8","type":"blocks","created_at":"2026-01-07T09:26:42.820456-06:00","created_by":"erik"},{"issue_id":"gtdispat-c03","depends_on_id":"gtdispat-4l4","type":"blocks","created_at":"2026-01-07T09:26:42.983871-06:00","created_by":"erik"}]}
{"id":"gtdispat-ct5","title":"Pipeline Stage: Code Review UI","description":"Add code review visibility to the WUI.\n\n## Features\n- List all open branches (from git + GitHub PRs)\n- Show branch status (ahead/behind, conflicts, CI status)\n- Display review comments and approvals\n- Link to GitHub PR for detailed review\n- Action buttons: Approve, Request Changes, View Diff\n- Real-time updates when reviews change\n\n## Data Sources\n- Git branches (gt commands)\n- GitHub API (PRs, reviews, checks)\n- Local merge conflict detection\n\n## UI Components\n- Reviews tab/page\n- Branch list with status indicators\n- Review detail panel\n- Approval workflow buttons\n\n## Backend APIs\n- GET /reviews - List open branches/PRs\n- GET /reviews/:branch - Branch detail with review status\n- POST /reviews/:branch/approve - Approve review (if GitHub integration)","status":"open","priority":1,"issue_type":"feature","owner":"efritsch@versova.com","created_at":"2026-01-13T09:50:58.897836-06:00","created_by":"mayor","updated_at":"2026-01-13T09:50:58.897836-06:00","labels":["backend","code-review","frontend","pipeline"],"dependencies":[{"issue_id":"gtdispat-ct5","depends_on_id":"gtdispat-19v","type":"blocks","created_at":"2026-01-13T09:51:24.977206-06:00","created_by":"mayor"},{"issue_id":"gtdispat-ct5","depends_on_id":"gtdispat-7ui","type":"blocks","created_at":"2026-01-13T09:51:44.336634-06:00","created_by":"mayor"}]}
{"id":"gtdispat-d45","title":"Convoy Screen Redesign","description":"Complete redesign of the convoy screen with master-detail layout, rich data display, and full action support.\n\n## Goals\n- Replace current sparse list with interactive master-detail view\n- Show all available convoy data (workers, synthesis status, stranded state)\n- Enable all convoy actions (create, add issues, close, synthesis)\n- Real-time updates via SSE\n\n## Key Features\n1. Master-detail layout (list + detail panel)\n2. Rich convoy list with status badges, progress, worker counts\n3. Full tracked issues table with worker info\n4. Create convoy modal with issue picker\n5. Synthesis workflow support\n6. Action buttons for all convoy operations\n\n## References\n- gastown convoy commands: internal/cmd/convoy.go\n- Current UI: src/frontend/src/pages/Convoys.tsx\n- Backend service: src/backend/src/services/convoys.ts","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-07T09:25:17.930383-06:00","created_by":"erik","updated_at":"2026-01-07T14:17:08.921378-06:00","closed_at":"2026-01-07T14:17:08.921378-06:00","close_reason":"Convoy screen redesign complete: master-detail layout, create modal, action buttons, synthesis panel, SSE real-time updates","dependencies":[{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-sa8","type":"tracks","created_at":"2026-01-07T09:26:36.177926-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-hr6","type":"tracks","created_at":"2026-01-07T09:26:36.23179-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-4l4","type":"tracks","created_at":"2026-01-07T09:26:36.285577-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-256","type":"tracks","created_at":"2026-01-07T09:26:36.340581-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-k5c","type":"tracks","created_at":"2026-01-07T09:26:36.391494-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-c03","type":"tracks","created_at":"2026-01-07T09:26:36.444708-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-0rz","type":"tracks","created_at":"2026-01-07T09:26:36.49694-06:00","created_by":"erik"}]}
{"id":"gtdispat-ddh","title":"Digest: mol-refinery-patrol","description":"Patrol: merged 1 branch (valkyrie/gtdispat-6up copy-on-select), clean rebase, notified witness. Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T08:52:19.1369-06:00","updated_at":"2026-01-14T08:52:19.1369-06:00","closed_at":"2026-01-14T08:52:19.136838-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-dei","title":"Accessibility React components","description":"dispatched_by: mayor\n\nCreate React accessibility components for screen reader support.\n\n## Components\n\n### Announcer\n- Manages aria-live announcements\n- Supports polite and assertive modes\n- Auto-clears after timeout\n\n### SkipLink\n- Skip to main content link\n- Visible on focus only\n- Proper focus management\n\n### LiveRegion\n- Wrapper for aria-live regions\n- Configurable politeness (polite, assertive, off)\n- Role support (status, alert, log)\n\n## Utilities\n- Focus ring management utilities\n- Screen reader only classes (.sr-only)\n- Reduced motion handling\n\n## Files\n- src/frontend/src/components/a11y/Announcer.tsx\n- src/frontend/src/components/a11y/SkipLink.tsx\n- src/frontend/src/components/a11y/LiveRegion.tsx\n- src/frontend/src/components/a11y/index.ts\n\n## Reference\nAdapted from gastown_ui accessibility patterns (Svelte -\u003e React)","status":"closed","priority":1,"issue_type":"feature","assignee":"gtdispat/polecats/rictus","created_at":"2026-01-08T07:10:46.601944-06:00","created_by":"erik","updated_at":"2026-01-14T13:06:12.374632-06:00","closed_at":"2026-01-13T10:05:30.876993-06:00","dependencies":[{"issue_id":"gtdispat-dei","depends_on_id":"gtdispat-p4e","type":"blocks","created_at":"2026-01-08T07:10:46.603057-06:00","created_by":"erik"}]}
{"id":"gtdispat-dha","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-09T13:20:26.827006-06:00","created_by":"erik","updated_at":"2026-01-09T13:20:26.827006-06:00"}
{"id":"gtdispat-dum","title":"Implement real-time activity stream panel","description":"Show recent Gas Town events in real-time feed.\n\n## Features\n- SSE connection to backend stream\n- Infinite scroll of recent events  \n- Event types: work assigned, completed, agent started/stopped\n- Color-coded by event type\n- Timestamps (relative time)\n- Click event to navigate to related item\n\n## Files\n- src/frontend/src/components/dashboard/ActivityStream.tsx (new)","status":"open","priority":2,"issue_type":"task","owner":"efritsch@versova.com","created_at":"2026-01-14T12:31:48.272943-06:00","created_by":"mayor","updated_at":"2026-01-14T12:31:48.272943-06:00","dependencies":[{"issue_id":"gtdispat-dum","depends_on_id":"gtdispat-57l","type":"blocks","created_at":"2026-01-14T12:32:20.967235-06:00","created_by":"mayor"}]}
{"id":"gtdispat-e5j","title":"Bug: PTY copy-on-select not working in practice","description":"dispatched_by: mayor\n\nThe copy-on-select implementation requires holding Option/Alt to select text. This is unnecessary for this use case.\n\n## Current Behavior\n\n- Plain drag: Does nothing (mouse events go to tmux)\n- Option+drag: Selects text and auto-copies to clipboard ✓\n\n## Desired Behavior\n\n- Plain drag: Selects text and auto-copies to clipboard\n- No modifier key needed\n\n## Why This Is Safe\n\nUser context: Terminal is only used to observe Claude Code agents (mayor/polecats) in tmux. No interactive apps like vim, less, htop that need mouse mode.\n\nSince there are no mouse-mode apps, we don't need the modifier key workaround.\n\n## The Fix\n\nChange line 47 in Terminal.tsx:\n\n```typescript\nmacOptionClickForcesSelection: false,  // Plain drag works\n```\n\nThis makes plain drag select text and auto-copy to clipboard (the desired UX).\n\n## Files\n\n- src/frontend/src/components/Terminal.tsx (line 47)\n\n## Testing\n\n1. Restart dev server\n2. Open terminal in WUI\n3. Plain drag to select text\n4. Check clipboard - should have selected text\n5. Verify auto-copy still works","status":"closed","priority":1,"issue_type":"bug","assignee":"gtdispat/polecats/morsov","owner":"efritsch@versova.com","created_at":"2026-01-14T09:08:22.862516-06:00","created_by":"mayor","updated_at":"2026-01-14T09:12:14.160341-06:00","closed_at":"2026-01-14T09:12:14.160341-06:00","close_reason":"Changed macOptionClickForcesSelection to false in Terminal.tsx:47 - plain drag now selects text and auto-copies without modifier key"}
{"id":"gtdispat-eh0","title":"CSS design tokens and variables","description":"dispatched_by: mayor\n\nAdd comprehensive CSS custom properties for design consistency.\n\n## Shadow System (5-level)\n- --shadow-xs through --shadow-2xl\n- --shadow-inner, --shadow-glow, --shadow-focus\n- Colored glow variants (--shadow-glow-success, --shadow-glow-warning, etc.)\n- Elevation aliases (elevation-1 through elevation-5)\n\n## Animation Tokens\n- Duration: --duration-instant (50ms) through --duration-slower (500ms)\n- Easing: --ease-out, --ease-spring, --ease-out-expo\n- Stagger delay: --delay-stagger (50ms)\n\n## Status Colors (HSL)\n- --status-online, --status-offline, --status-pending, --status-idle\n- --success, --warning, --info, --destructive with foreground variants\n\n## Spacing Scale\n- --space-1 through --space-12 (4px grid)\n\n## Surface Gradients\n- --gradient-surface, --gradient-surface-subtle\n- --gradient-shine, --gradient-border, --gradient-overlay\n\n## Files\n- src/frontend/src/index.css (add :root and .dark tokens)\n\n## Reference\nAdapted from gastown_ui/src/app.css","status":"closed","priority":0,"issue_type":"feature","assignee":"gtdispat/polecats/slit","created_at":"2026-01-08T07:10:13.732524-06:00","created_by":"erik","updated_at":"2026-01-14T13:06:12.375294-06:00","closed_at":"2026-01-13T09:51:09.669959-06:00","dependencies":[{"issue_id":"gtdispat-eh0","depends_on_id":"gtdispat-p4e","type":"blocks","created_at":"2026-01-08T07:10:13.733889-06:00","created_by":"erik"}]}
{"id":"gtdispat-epu","title":"Digest: mol-refinery-patrol","description":"Patrol: no merges, cleaned up stale branch (slit-mkcrp41e). Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:13:33.631156-06:00","updated_at":"2026-01-13T19:13:33.631156-06:00","closed_at":"2026-01-13T19:13:33.63111-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-f95","title":"Frontend: Polecat management UI","description":"Build UI for managing polecats in rigs.\n\n## In Agent Tree\n- 'Add Polecat' button in polecat group header\n- Context menu on polecat: Remove, Nuke\n\n## Add Polecat Modal\n- Rig selector (if multiple rigs)\n- Polecat name input\n- Auto-generate name option\n- Confirm button\n\n## Remove Polecat\n- Confirmation dialog\n- Shows what will be removed\n- Warning about in-progress work\n\n## Nuke Polecat (destructive)\n- Double confirmation required\n- Warning about data loss\n- Shows what will be destroyed:\n  - Session\n  - Worktree\n  - Branch\n  - Agent bead\n\n## Polecat Status in Detail Panel\n- Git branch\n- Worktree path\n- Current state (working/idle/stuck)\n- Recovery check status\n\n## API Calls\n- POST /rigs/:name/polecats { name? }\n- DELETE /rigs/:name/polecats/:name\n- POST /rigs/:name/polecats/:name/nuke","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:38:56.455054-06:00","created_by":"erik","updated_at":"2026-01-07T14:38:56.455054-06:00"}
{"id":"gtdispat-gd5","title":"Glass morphism CSS utilities","description":"Add glass morphism utility classes for modern UI panels.\n\n## Utility Classes\n- .panel-glass: bg-background/80 backdrop-blur-xl border rounded-lg\n- .panel-glass-strong: bg-background/90 backdrop-blur-2xl\n- .card-glass: bg-card/80 backdrop-blur-xl with shadow\n- .popover-glass: bg-popover/85 for floating elements\n\n## Fallbacks\n- @supports fallback for browsers without backdrop-filter\n- Graceful degradation to solid backgrounds\n\n## Additional Utilities\n- .gradient-surface, .gradient-surface-subtle\n- .gradient-shine (::before pseudo with shine effect)\n- .gradient-border (mask-based border gradient)\n\n## Files\n- src/frontend/src/index.css (@layer components)\n\n## Reference\nAdapted from gastown_ui glass morphism patterns","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-08T07:10:34.530939-06:00","created_by":"erik","updated_at":"2026-01-08T07:10:34.530939-06:00","dependencies":[{"issue_id":"gtdispat-gd5","depends_on_id":"gtdispat-3tv","type":"blocks","created_at":"2026-01-08T07:10:34.532423-06:00","created_by":"erik"}]}
{"id":"gtdispat-gk8","title":"Frontend: Real-time metrics dashboard widgets","description":"Build real-time metric visualization widgets.\n\n## Gauge Components\n- CircularGauge: For percentages (utilization, health)\n- LinearGauge: For counts with max (queue depth)\n- Sparkline: Mini trend line for recent values\n\n## Metric Cards (enhanced)\n- Large value display\n- Trend indicator (up/down arrow + %)\n- Sparkline showing last hour\n- Color coding by threshold (green/yellow/red)\n- Click to expand historical view\n\n## Key Metrics to Display\n1. Throughput (work/hour) - gauge + sparkline\n2. Active Workers - count + mini bar chart by rig  \n3. Queue Depth - linear gauge with warning threshold\n4. Health Score - circular gauge (0-100%)\n5. Error Rate - count with trend\n6. Convoy Progress - aggregate progress bar\n\n## Update Behavior\n- Smooth animated transitions between values\n- Highlight on significant changes\n- Configurable refresh interval\n- Visual pulse on updates\n\n## Components\n- MetricGauge - Circular/linear gauge\n- MetricCard - Enhanced stat card with trends\n- Sparkline - Mini line chart\n- TrendIndicator - Up/down with percentage\n\n## Design Reference (from gastown_ui)\n- Use StatsCard pattern with sparkline SVG implementation\n- Trend indicators: TrendingUp/TrendingDown/Minus icons from lucide-react\n- Gradient fill under sparkline path using linearGradient defs\n- 5-level elevation shadow system for hover states (shadow-elevation-*)\n- Status breakdown footer pattern for multi-status display\n- Font-mono tabular-nums for consistent number widths\n\n## Token Usage\n- Use --shadow-elevation-* for card depth\n- Use --ease-spring for hover animations (hover:scale-[1.02])\n- Use semantic status colors (--status-online, --success, etc.)\n- Use --duration-normal (200ms) for transitions","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:48:31.430914-06:00","created_by":"erik","updated_at":"2026-01-08T07:11:36.493018-06:00","dependencies":[{"issue_id":"gtdispat-gk8","depends_on_id":"gtdispat-3tv","type":"blocks","created_at":"2026-01-08T07:11:10.81247-06:00","created_by":"erik"}]}
{"id":"gtdispat-gtdispat-crew-erik","title":"Crew worker erik in gtdispat - human-managed persistent workspace.","description":"Crew worker erik in gtdispat - human-managed persistent workspace.\n\nrole_type: crew\nrig: gtdispat\nagent_state: idle\nhook_bead: null\nrole_bead: hq-crew-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-13T08:33:29.430827-06:00","created_by":"mayor","updated_at":"2026-01-13T08:33:29.533454-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-capable","title":"gtdispat-gtdispat-polecat-capable","description":"gtdispat-gtdispat-polecat-capable\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-v2b.3\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-13T19:39:38.055917-06:00","created_by":"mayor","updated_at":"2026-01-13T19:55:29.964524-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-cheedo","title":"gtdispat-gtdispat-polecat-cheedo","description":"gtdispat-gtdispat-polecat-cheedo\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-65p\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-13T19:56:52.399054-06:00","created_by":"mayor","updated_at":"2026-01-13T20:00:12.988678-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-coma","title":"gtdispat-gtdispat-polecat-coma","description":"gtdispat-gtdispat-polecat-coma\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-57l\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-14T12:32:59.907721-06:00","created_by":"mayor","updated_at":"2026-01-14T12:33:16.512356-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-dementus","title":"gtdispat-gtdispat-polecat-dementus","description":"gtdispat-gtdispat-polecat-dementus\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-v2b.2\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-13T19:12:22.783832-06:00","created_by":"mayor","updated_at":"2026-01-13T19:16:00.609693-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-furiosa","title":"gtdispat-gtdispat-polecat-furiosa","description":"gtdispat-gtdispat-polecat-furiosa\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-3ky\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-13T08:39:27.974446-06:00","created_by":"mayor","updated_at":"2026-01-13T19:13:57.000232-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-imperator","title":"gtdispat-gtdispat-polecat-imperator","description":"gtdispat-gtdispat-polecat-imperator\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-5ox\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-14T09:27:08.649401-06:00","created_by":"mayor","updated_at":"2026-01-14T09:27:30.777691-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-keeper","title":"gtdispat-gtdispat-polecat-keeper","description":"gtdispat-gtdispat-polecat-keeper\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-n3h\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-14T08:50:34.817242-06:00","created_by":"mayor","updated_at":"2026-01-14T08:56:19.638329-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-morsov","title":"gtdispat-gtdispat-polecat-morsov","description":"gtdispat-gtdispat-polecat-morsov\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-e5j\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-14T09:10:38.193447-06:00","created_by":"mayor","updated_at":"2026-01-14T09:14:19.646739-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-organic","title":"gtdispat-gtdispat-polecat-organic","description":"gtdispat-gtdispat-polecat-organic\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-z3v\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-14T09:32:09.353464-06:00","created_by":"mayor","updated_at":"2026-01-14T09:41:14.671031-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-rictus","title":"gtdispat-gtdispat-polecat-rictus","description":"gtdispat-gtdispat-polecat-rictus\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-dei\nrole_bead: hq-polecat-role\ncleanup_status: clean\nactive_mr: gtdispat-ji8\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-13T09:49:52.576778-06:00","created_by":"mayor","updated_at":"2026-01-13T10:02:22.390473-06:00","labels":["gt:agent"],"deleted_at":"2026-01-13T10:02:22.390473-06:00","deleted_by":"gtdispat/polecats/rictus","delete_reason":"delete","original_type":"agent"}
{"id":"gtdispat-gtdispat-polecat-slit","title":"gtdispat-gtdispat-polecat-slit","description":"gtdispat-gtdispat-polecat-slit\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-eh0\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-13T09:49:32.919129-06:00","created_by":"mayor","updated_at":"2026-01-13T09:52:05.682878-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-splendid","title":"gtdispat-gtdispat-polecat-splendid","description":"gtdispat-gtdispat-polecat-splendid\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-rai\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-14T12:33:21.048666-06:00","created_by":"mayor","updated_at":"2026-01-14T12:33:37.997857-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-toast","title":"gtdispat-gtdispat-polecat-toast","description":"gtdispat-gtdispat-polecat-toast\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-v2b.4\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-13T19:39:58.679309-06:00","created_by":"mayor","updated_at":"2026-01-13T19:55:33.199986-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-valkyrie","title":"gtdispat-gtdispat-polecat-valkyrie","description":"gtdispat-gtdispat-polecat-valkyrie\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-6up\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-14T08:44:42.256754-06:00","created_by":"mayor","updated_at":"2026-01-14T08:44:59.373418-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-polecat-warboy","title":"gtdispat-gtdispat-polecat-warboy","description":"gtdispat-gtdispat-polecat-warboy\n\nrole_type: polecat\nrig: gtdispat\nagent_state: spawning\nhook_bead: gtdispat-ujq\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"efritsch@versova.com","created_at":"2026-01-14T09:19:24.135944-06:00","created_by":"mayor","updated_at":"2026-01-14T09:22:02.978583-06:00","labels":["gt:agent"]}
{"id":"gtdispat-gtdispat-refinery","title":"Refinery for gtdispat - processes merge queue.","description":"Refinery for gtdispat - processes merge queue.\n\nrole_type: refinery\nrig: gtdispat\nagent_state: idle\nhook_bead: null\nrole_bead: hq-refinery-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-09T13:20:26.663767-06:00","created_by":"erik","updated_at":"2026-01-09T13:20:26.732989-06:00"}
{"id":"gtdispat-gtdispat-witness","title":"Witness for gtdispat - monitors polecat health and progress.","description":"Witness for gtdispat - monitors polecat health and progress.\n\nrole_type: witness\nrig: gtdispat\nagent_state: idle\nhook_bead: null\nrole_bead: hq-witness-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-09T13:20:26.458394-06:00","created_by":"erik","updated_at":"2026-01-09T13:20:26.533392-06:00"}
{"id":"gtdispat-hr6","title":"Frontend: Master-detail layout for convoys page","description":"Replace the current simple list with a responsive master-detail layout.\n\n## Layout\n- Left panel (1/3 width): Convoy list with compact cards\n- Right panel (2/3 width): Selected convoy detail view\n- Collapsible on mobile (stack vertically)\n\n## Convoy List Panel\n- Compact convoy cards showing:\n  - Title + ID\n  - Status badge (Active/Stranded/Synthesis-ready/Closed)\n  - Mini progress indicator (donut or segmented bar)\n  - Worker count badge\n  - Last activity time\n- Click to select and show in detail panel\n- Visual highlight on selected convoy\n- Sortable by: status, date, name, progress\n- Filterable by: status, has workers\n\n## Detail Panel\n- Empty state when no convoy selected\n- Header with title, full ID, status\n- Tabbed sections or scrollable content\n\n## Components to Create\n- ConvoyListPanel\n- ConvoyCard (compact)\n- ConvoyDetailPanel\n- ConvoyStatusBadge\n- MiniProgressIndicator","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T09:25:55.28158-06:00","created_by":"erik","updated_at":"2026-01-07T09:37:39.366657-06:00","closed_at":"2026-01-07T09:37:39.366657-06:00","close_reason":"Implemented master-detail layout for convoys page with: ConvoyCard component with status badges and mini progress indicators, ConvoyDetailPanel with full convoy info, TrackedIssuesTable showing worker status, and responsive split-pane layout.","dependencies":[{"issue_id":"gtdispat-hr6","depends_on_id":"gtdispat-sa8","type":"blocks","created_at":"2026-01-07T09:26:42.592752-06:00","created_by":"erik"}]}
{"id":"gtdispat-k5c","title":"Frontend: Convoy action buttons and workflows","description":"Implement action buttons for convoy operations.\n\n## Actions in Detail Panel Header\n1. **Add Issues** button\n   - Opens issue picker modal (reuse from create)\n   - Adds selected issues to convoy\n   - Works on closed convoys (reopens them)\n\n2. **Close Convoy** button (for open convoys)\n   - Confirmation dialog with reason input\n   - Calls POST /convoys/:id/close\n\n3. **Reopen** button (for closed convoys)\n   - Adds issues flow (which reopens automatically)\n\n## Synthesis Section (when formula attached)\n- **Synthesis Status** indicator\n  - Not ready: show incomplete legs\n  - Ready: green indicator + Start button\n- **Start Synthesis** button\n  - Calls POST /convoys/:id/synthesis\n  - Shows target rig selector\n  - Loading/success states\n\n## Tracked Issue Row Actions\n- **Remove from convoy** (x button)\n  - Confirmation tooltip\n  - Calls DELETE /convoys/:id/issues/:issueId\n\n## Toast Notifications\n- Success/error feedback for all actions\n- Use existing toast system or add one","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:26:28.771123-06:00","created_by":"erik","updated_at":"2026-01-07T09:46:46.081663-06:00","closed_at":"2026-01-07T09:46:46.081663-06:00","close_reason":"Completed action buttons: Add Issues inline picker, Close Convoy confirmation, Remove Issue from table","dependencies":[{"issue_id":"gtdispat-k5c","depends_on_id":"gtdispat-sa8","type":"blocks","created_at":"2026-01-07T09:26:42.768983-06:00","created_by":"erik"},{"issue_id":"gtdispat-k5c","depends_on_id":"gtdispat-4l4","type":"blocks","created_at":"2026-01-07T09:26:42.931965-06:00","created_by":"erik"}]}
{"id":"gtdispat-kat","title":"Digest: mol-refinery-patrol","description":"Patrol: no merges, cleaned up stale branch (warboy-mke6274n already merged as a50c10b). Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T09:28:29.132531-06:00","updated_at":"2026-01-14T09:28:29.132531-06:00","closed_at":"2026-01-14T09:28:29.132457-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-kq3","title":"Frontend: Terminal integration","description":"Integrate terminal view for agents.\n\n## In Detail Panel\n- Terminal preview section (last 20 lines via peek)\n- 'Open Full Terminal' button\n\n## Terminal Window\n- Reuse existing Terminal component\n- Pass agent address/session\n- Connect to /api/terminal/:sessionId\n\n## Quick Actions\n- Open in new tab\n- Refresh preview\n- Copy recent output\n\n## Session Mapping\n- Agent address -\u003e tmux session name\n- mayor -\u003e gt-mayor\n- deacon -\u003e gt-deacon  \n- rig/witness -\u003e gt-\u003crig\u003e-witness\n- rig/refinery -\u003e gt-\u003crig\u003e-refinery\n- rig/polecat -\u003e gt-\u003crig\u003e-\u003cpolecat\u003e\n\n## API\n- GET /agents/:address/peek - Recent output\n- Existing terminal streaming for full view","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:39:08.769484-06:00","created_by":"erik","updated_at":"2026-01-07T14:39:08.769484-06:00"}
{"id":"gtdispat-kzc","title":"Frontend: Health and alerts dashboard section","description":"Add health monitoring and alerts section to dashboard.\n\n## Health Score Panel\n- Overall health gauge (0-100%)\n- Component health breakdown:\n  - Deacon: running/responding\n  - Mayor: running/responding\n  - Per-rig health scores\n- Health factors:\n  - Agent uptime\n  - Error rate\n  - Queue depth vs capacity\n  - Stale work detection\n\n## Alert Panel\n- Active alerts list\n- Severity levels: critical, warning, info\n- Alert types:\n  - Agent crashed\n  - Agent unresponsive\n  - Queue overflow\n  - Stale work detected\n  - Merge conflicts\n- Acknowledge/dismiss actions\n- Link to relevant detail page\n\n## Visual Indicators\n- Color-coded health (green/yellow/red)\n- Blinking for critical alerts\n- Badge counts on nav items\n- Toast notifications for new alerts\n\n## Configuration\n- Alert thresholds (configurable)\n- Notification preferences\n- Health check intervals\n\n## Components\n- HealthGauge - Overall health display\n- HealthBreakdown - Component list\n- AlertList - Active alerts\n- AlertItem - Single alert with actions","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:49:14.949977-06:00","created_by":"erik","updated_at":"2026-01-07T14:49:14.949977-06:00"}
{"id":"gtdispat-l65","title":"Agents Screen Redesign","description":"dispatched_by: mayor\n\nComplete redesign of the agents screen with master-detail layout, rich agent info, and interactive controls.\n\n## Goals\n- Replace current grid layout with interactive master-detail view\n- Show detailed agent status, work info, mail, terminal access\n- Enable agent actions (nudge, peek, terminal, spawn/kill polecat)\n- Real-time updates via SSE\n\n## Key Features\n1. Master-detail layout (agent tree + detail panel)\n2. Agent tree by rig (Global -\u003e Rig -\u003e Polecats)\n3. Rich detail panel with status, work, mail, actions\n4. Terminal integration (open agent terminal)\n5. Nudge modal for sending messages\n6. Polecat management (add/remove/nuke)\n7. SSE for real-time agent status updates\n\n## References\n- Current UI: src/frontend/src/pages/Agents.tsx  \n- gt commands: status, polecat list/add/remove/nuke, nudge, peek\n- Roles: mayor, deacon, witness, refinery, polecat, crew","status":"closed","priority":1,"issue_type":"epic","assignee":"gtdispat/polecats/nux","created_at":"2026-01-07T14:38:08.429234-06:00","created_by":"erik","updated_at":"2026-01-14T13:06:12.375925-06:00","closed_at":"2026-01-13T08:47:52.808542-06:00"}
{"id":"gtdispat-l72","title":"Frontend: Nudge message modal","description":"Build modal for sending nudge messages to agents.\n\n## Trigger\n- 'Nudge' button in agent detail header\n- Right-click context menu on agent tree item\n\n## Modal Contents\n- To: Agent address (read-only, pre-filled)\n- Message: Textarea for message content\n- Common templates dropdown:\n  - 'Check your mail'\n  - 'Status update please'\n  - 'Priority work available'\n  - Custom...\n- Force DND override checkbox\n\n## Actions\n- Send button (calls POST /agents/:address/nudge)\n- Cancel button\n- Loading state during send\n- Success toast\n- Error handling\n\n## API\n- POST /agents/:address/nudge { message, force? }","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:38:46.552472-06:00","created_by":"erik","updated_at":"2026-01-07T14:38:46.552472-06:00"}
{"id":"gtdispat-lmr","title":"Pipeline Stage: Production Monitoring UI","description":"Add production health and monitoring visibility to the WUI.\n\n## Features\n- Real-time health status (up/down, response time)\n- Error tracking and alerts\n- Performance metrics (CPU, memory, requests/sec)\n- Recent error logs with stack traces\n- Active incidents and alerts\n- Action buttons: View Logs, Acknowledge Alert, Create Incident\n\n## Data Sources\n- Health check endpoints\n- Error tracking service (Sentry, Rollbar, etc.)\n- APM service (New Relic, Datadog, etc.)\n- Log aggregation (Splunk, ELK, etc.)\n\n## UI Components\n- Monitoring tab/dashboard\n- Health status cards\n- Error rate charts\n- Recent errors list\n- Performance metrics graphs\n- Alert notifications\n\n## Backend APIs\n- GET /monitoring/health - Current health status\n- GET /monitoring/errors - Recent errors\n- GET /monitoring/metrics - Performance metrics\n- GET /monitoring/alerts - Active alerts\n- POST /monitoring/alerts/:id/ack - Acknowledge alert","status":"open","priority":2,"issue_type":"feature","owner":"efritsch@versova.com","created_at":"2026-01-13T09:51:19.309484-06:00","created_by":"mayor","updated_at":"2026-01-13T09:51:19.309484-06:00","labels":["backend","frontend","monitoring","pipeline"],"dependencies":[{"issue_id":"gtdispat-lmr","depends_on_id":"gtdispat-19v","type":"blocks","created_at":"2026-01-13T09:51:25.229805-06:00","created_by":"mayor"},{"issue_id":"gtdispat-lmr","depends_on_id":"gtdispat-7ui","type":"blocks","created_at":"2026-01-13T09:51:44.719607-06:00","created_by":"mayor"}]}
{"id":"gtdispat-mp5","title":"Pipeline Stage: Merge Queue UI","description":"Add merge queue visibility to the WUI.\n\n## Features\n- Show refinery status and merge queue\n- Display queued merges with position\n- Show merge conflicts and resolution status\n- Auto-merge status and progress\n- Action buttons: Merge, Cancel, Resolve Conflicts\n- Real-time updates via SSE\n\n## Data Sources\n- gt mq commands\n- Refinery agent status\n- Git merge status\n\n## UI Components  \n- Merge Queue tab/section\n- Queue visualization (ordered list)\n- Merge detail with conflict info\n- Manual merge buttons\n\n## Backend APIs\n- GET /merge-queue - List queued merges\n- GET /merge-queue/:id - Merge detail\n- POST /merge-queue/:id/merge - Trigger merge\n- DELETE /merge-queue/:id - Cancel merge","status":"open","priority":1,"issue_type":"feature","owner":"efritsch@versova.com","created_at":"2026-01-13T09:50:59.029165-06:00","created_by":"mayor","updated_at":"2026-01-13T09:50:59.029165-06:00","labels":["backend","frontend","merge","pipeline"],"dependencies":[{"issue_id":"gtdispat-mp5","depends_on_id":"gtdispat-19v","type":"blocks","created_at":"2026-01-13T09:51:25.040893-06:00","created_by":"mayor"},{"issue_id":"gtdispat-mp5","depends_on_id":"gtdispat-7ui","type":"blocks","created_at":"2026-01-13T09:51:44.445797-06:00","created_by":"mayor"}]}
{"id":"gtdispat-n3h","title":"Bug: WUI shows synthesis button for simple tracking convoys","description":"dispatched_by: mayor\n\nThe Convoys page shows 'Start Synthesis' button for ALL convoys, including simple tracking convoys that don't need synthesis.\n\n**Problem:**\nSimple tracking convoys (auto-created by gt sling or manual convoy create without --molecule) should auto-close via 'gt convoy check' when complete. Instead, the WUI requires manual 'Start Synthesis' click.\n\n**Example:**\n- Convoy hq-cv-fnpfm: \"Auto-created convoy tracking hq-202\"\n- Has no formula/molecule metadata\n- Shows 'Ready for Synthesis' + 'Start Synthesis' button\n- Should instead auto-close or show 'Close Convoy' button\n\n**Root Cause:**\nConvoys page doesn't distinguish between:\n1. **Formula-driven convoys**: Created with --molecule flag, need synthesis step to combine outputs\n2. **Simple tracking convoys**: Just track related issues, auto-close when complete\n\n**Expected Behavior:**\n\nFor formula-driven convoys (has formula/molecule):\n- Show 'Ready for Synthesis' status\n- Show 'Start Synthesis' button\n- Clicking runs: gt synthesis start \u003cconvoy-id\u003e\n\nFor simple tracking convoys (no formula/molecule):\n- Show 'Complete' status when all issues closed\n- Show 'Close Convoy' button OR auto-close\n- Clicking runs: gt convoy check (or bd close \u003cconvoy-id\u003e)\n\n**Implementation:**\n\n1. Backend (src/backend/src/services/convoys.ts):\n   - ConvoyDetail already includes formula/molecule fields\n   - Already parsed from convoy description\n\n2. Frontend (src/frontend/src/pages/Convoys.tsx):\n   - Check: const needsSynthesis = detail.formula || detail.molecule\n   - Conditionally render synthesis UI vs simple close UI\n\n3. Add 'Close Convoy' action:\n   - Button: 'Close Convoy'\n   - API call: POST /convoys/:id/close\n   - Already implemented: closeConvoy() in convoys.ts\n\n**Files to modify:**\n- src/frontend/src/pages/Convoys.tsx (SynthesisPanel component)\n- Consider: Backend could add convoy_type field for clarity\n\n**Testing:**\n1. Create simple convoy: gt convoy create \"Test\" gtdispat-xyz\n2. Close the tracked issue\n3. Verify WUI shows 'Close' not 'Synthesis'\n4. Create formula convoy: gt convoy create \"Test 2\" --molecule mol-test\n5. Verify WUI shows 'Synthesis' button\n\n**References:**\n- gt convoy create --help (--molecule flag)\n- gt synthesis start --help\n- gt convoy check --help\n- ConvoyDetail type (has formula/molecule fields)","status":"closed","priority":1,"issue_type":"bug","assignee":"gtdispat/polecats/keeper","owner":"efritsch@versova.com","created_at":"2026-01-14T08:50:25.367876-06:00","created_by":"mayor","updated_at":"2026-01-14T08:55:29.631314-06:00","closed_at":"2026-01-14T08:55:29.631314-06:00","close_reason":"Fixed: WUI now distinguishes between formula-driven and simple tracking convoys. Simple tracking convoys show 'Close Convoy' button when complete, formula-driven convoys show 'Start Synthesis' button."}
{"id":"gtdispat-n4t","title":"Digest: mol-refinery-patrol","description":"Patrol: no merges, cleaned up stale branch (ace-mke5uy7w already merged as b641dfe). Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T09:20:44.550398-06:00","updated_at":"2026-01-14T09:20:44.550398-06:00","closed_at":"2026-01-14T09:20:44.550326-06:00","close_reason":"Squashed from 11 wisps"}
{"id":"gtdispat-ncd","title":"Frontend: Agent detail panel","description":"Build comprehensive agent detail panel.\n\n## Header Section\n- Agent name and type\n- Status badge with indicator\n- Quick action buttons\n- Breadcrumb navigation\n\n## Status Section\n- Current state (running/idle/error)\n- Uptime counter\n- Last activity timestamp\n- Health metrics\n\n## Task Section\n- Current task description\n- Progress bar with percentage\n- Time elapsed/estimated\n- Output preview\n\n## History Section\n- Recent activity log\n- Task completion history\n- Error log (if any)\n- Performance metrics\n\n## Actions\n- Start/Stop/Restart\n- View logs\n- Send nudge\n- Inspect state\n\n## Design Reference (from gastown_ui)\n- Hero section with large status icon (Lucide: Zap, Moon, AlertCircle, CheckCircle2)\n- Progress bar with percentage label in tabular-nums\n- Action buttons with touch targets (48px min-height, --touch-target-min)\n- Use gradient-surface-subtle for depth on hero background\n- Error message panel: bg-status-offline/10 border-status-offline/20\n\n## Token Usage\n- heroIcon: bg-status-*/20 with w-14 h-14 rounded-2xl\n- shadow-elevation-2 + gradient-shine for icon container\n- --ease-out-expo for hover transitions\n- Active feedback: active:scale-95 transition-transform","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:38:37.915629-06:00","created_by":"erik","updated_at":"2026-01-08T07:12:12.694049-06:00"}
{"id":"gtdispat-oph","title":"Backend: Fix log source extraction from gt log","description":"Fix log source extraction so agent filters work properly.\n\n## Current Problem\n- gt log events parsed with source='gt-log'\n- Filter buttons expect source='deacon', 'mayor', etc.\n- No match, so filtered lists are empty\n\n## gt log Format Analysis\nEvent format: '○ 12:30:06 spawn northstar_coherence/witness'\n- The agent address is in the details portion\n- Need to extract: rig/agent from event details\n\n## Fix Required\nIn LogStreamer.addEntry(), parse the agent address from the message:\n- 'spawn greenplace/furiosa' -\u003e source='polecat', agent='greenplace/furiosa'\n- 'nudge mayor' -\u003e source='mayor'\n- 'wake gt-deacon' -\u003e source='deacon'\n- 'done northstar_coherence/witness' -\u003e source='witness'\n\n## New LogEntry Fields\n- source: Role category (mayor, deacon, witness, refinery, polecat, system)\n- agent: Full agent address (e.g., 'greenplace/furiosa')\n- rig: Rig name if applicable\n\n## Implementation\n- Update parsing regex in streaming.ts\n- Map agent addresses to source categories\n- Add agent/rig fields to LogEntry type","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-07T14:43:23.133336-06:00","created_by":"erik","updated_at":"2026-01-07T14:43:23.133336-06:00"}
{"id":"gtdispat-p4e","title":"Design System \u0026 Accessibility Foundation","description":"Foundation epic for design tokens and accessibility patterns adapted from gastown_ui.\n\n## Goals\n- Establish consistent design token system (shadows, animations, colors)\n- Add glass morphism utilities for modern UI\n- Implement accessibility components (Announcer, SkipLink, LiveRegion)\n- Add mobile-friendly touch utilities\n\n## Must Complete Before\nAll page redesign epics (Beads, Agents, Logs, Dashboard) depend on this foundation.\n\n## Reference\nPatterns adapted from Avyukth/gastown_ui SvelteKit project, converted to React/Tailwind.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-08T07:10:02.301574-06:00","created_by":"erik","updated_at":"2026-01-14T13:06:12.376653-06:00","closed_at":"2026-01-13T10:05:21.904442-06:00"}
{"id":"gtdispat-pts","title":"Frontend: Agent tree and master-detail layout","description":"Build agent tree visualization with master-detail layout.\n\n## Layout Structure\n- Left panel: Agent tree/list\n- Right panel: Selected agent details\n- Collapsible tree nodes\n- Search/filter in header\n\n## Agent Tree\n- Hierarchical: Mayor \u003e Deacon \u003e Rig \u003e Polecat\n- Expandable/collapsible nodes\n- Status indicators per node\n- Count badges for children\n\n## List View (alternative)\n- Flat list with grouping\n- Sort by name/status/activity\n- Compact cards with key info\n- Infinite scroll for large lists\n\n## Selection Behavior\n- Single select highlights detail\n- URL sync for deep linking\n- Keyboard navigation (arrows)\n- Remember last selection\n\n## Design Reference (from gastown_ui)\n- Use AgentCard expandable pattern with spring animation (--ease-spring)\n- Compact mode for list view, full mode for selected detail\n- Error state with prominent messaging panel (bg-status-offline/10)\n- Status badge with dot indicator and uppercase label\n- ChevronDown rotation for expand state (rotate-180)\n\n## Token Usage\n- panel-glass for containers\n- --ease-spring for expand/collapse\n- --shadow-glow-* for status emphasis\n- Status colors: --status-online, --status-offline, --status-pending, --status-idle","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:38:28.58897-06:00","created_by":"erik","updated_at":"2026-01-08T07:12:01.055015-06:00","dependencies":[{"issue_id":"gtdispat-pts","depends_on_id":"gtdispat-3tv","type":"blocks","created_at":"2026-01-08T07:11:10.915454-06:00","created_by":"erik"}]}
{"id":"gtdispat-qs0","title":"Frontend: Bead action buttons and workflows","description":"Implement action buttons in bead detail panel.\n\n## Actions\n1. **Status Transitions**\n   - Open -\u003e In Progress (claim)\n   - In Progress -\u003e Closed (complete)\n   - Closed -\u003e Open (reopen)\n   - Show available transitions based on current status\n\n2. **Close with Reason**\n   - Inline confirmation\n   - Optional reason input\n   - Close mutation\n\n3. **Assign**\n   - User picker dropdown\n   - Self-assign shortcut\n   - Unassign option\n\n4. **Update Priority**\n   - Dropdown in header\n   - Immediate save\n\n5. **Delete** (with confirmation)\n   - Only for certain users/roles\n   - Confirm dialog\n\n## Mutations\n- Use React Query mutations\n- Invalidate bead queries on success\n- Show loading states","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:18:54.676247-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:54.676247-06:00"}
{"id":"gtdispat-rai","title":"Design and implement system schematic SVG component","description":"dispatched_by: mayor\n\nCreate SVG-based visual schematic showing Gas Town flow (Mayor→Deacon→Rigs→Polecats).\n\n## Requirements\n- SVG component with nodes for each agent type\n- Visual connections showing flow\n- Color-coded status indicators per node\n- Clickable nodes that navigate to detail pages\n- Responsive layout that scales\n\n## Design\n- Industrial HMI/SCADA aesthetic  \n- Dark background with glowing connections\n- Animated pulse on active nodes\n- Status colors: green (active), yellow (idle), red (error), gray (offline)\n\n## Files\n- src/frontend/src/components/dashboard/SystemSchematic.tsx (new)\n- src/frontend/src/components/dashboard/SchematicNode.tsx (new)","status":"closed","priority":1,"issue_type":"task","assignee":"gtdispat/polecats/splendid","owner":"efritsch@versova.com","created_at":"2026-01-14T12:31:37.216515-06:00","created_by":"mayor","updated_at":"2026-01-14T12:38:29.313958-06:00","closed_at":"2026-01-14T12:38:29.313958-06:00","close_reason":"Created SystemSchematic.tsx and SchematicNode.tsx components with SVG-based visual schematic showing Gas Town flow. Implemented industrial HMI/SCADA aesthetic with status indicators, animated pulse effects, and clickable nodes."}
{"id":"gtdispat-rig-gtdispat","title":"gtdispat","description":"Rig identity bead for gtdispat.\n\nrepo: https://github.com/ovachiever/gastown-dispatch.git\nprefix: gtdispat\nstate: active","status":"open","priority":2,"issue_type":"rig","created_at":"2026-01-09T13:20:27.04814-06:00","created_by":"erik","updated_at":"2026-01-09T13:20:27.04814-06:00"}
{"id":"gtdispat-s7k","title":"Merge: gtdispat-3ky","description":"branch: polecat/furiosa-mk5lbbje\ntarget: main\nsource_issue: gtdispat-3ky\nrig: gtdispat","status":"closed","priority":1,"issue_type":"task","owner":"efritsch@versova.com","created_at":"2026-01-13T08:42:54.933723-06:00","created_by":"gtdispat/refinery","updated_at":"2026-01-13T08:44:53.840814-06:00","closed_at":"2026-01-13T08:44:53.840814-06:00","close_reason":"Merged to main (e82d0e2), pushed successfully. Added CSS design tokens.","labels":["gt:merge-request"]}
{"id":"gtdispat-sa8","title":"Backend: Enhanced convoy API endpoints","description":"Add new API endpoints and enhance existing ones to provide richer convoy data.\n\n## New Endpoints\n- GET /convoys/:id/detail - Full convoy with all tracked issue details, workers, synthesis status\n- GET /convoys/stranded - Find stranded convoys (ready work, no workers)\n- POST /convoys/:id/close - Manual close with reason\n- GET /synthesis/:id/status - Synthesis readiness check\n\n## Enhanced Data Types\n```typescript\ninterface ConvoyDetail extends Convoy {\n  formula?: { name: string; type: string; };\n  notify?: string;\n  workers: { agent: string; issue_id: string; age: string; }[];\n  synthesis_ready: boolean;\n  is_stranded: boolean;\n  tracked_issues: TrackedIssueDetail[];\n}\n\ninterface TrackedIssueDetail extends TrackedIssue {\n  worker?: string;\n  worker_age?: string;\n  issue_type?: string;\n  created_at?: string;\n  blocked_by?: string[];\n}\n```\n\n## Implementation\n- Wrap gt convoy status --json for detail endpoint\n- Wrap gt convoy stranded --json for stranded endpoint\n- Add close convoy service function\n- Parse synthesis readiness from convoy metadata","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T09:25:55.180642-06:00","created_by":"erik","updated_at":"2026-01-07T09:35:12.077841-06:00","closed_at":"2026-01-07T09:35:12.077841-06:00","close_reason":"Implemented enhanced convoy API endpoints: getConvoyDetail, getStrandedConvoys, closeConvoy, getSynthesisStatus, startSynthesis, removeFromConvoy. Added new routes and TypeScript types for both backend and frontend."}
{"id":"gtdispat-snc","title":"Frontend: Dependency management UI","description":"Build UI for managing bead dependencies.\n\n## In Detail Panel\n- 'Blocked By' section showing issues this bead depends on\n- 'Blocks' section showing issues that depend on this bead\n- Each dep shows: status icon, ID, title, remove button\n\n## Add Dependency Modal/Inline\n- Search/filter beads to add as dependency\n- Exclude already-added deps\n- Exclude self\n- Direction selector (blocked-by vs blocks)\n\n## Dependency Graph View (optional)\n- Visual tree of dependencies\n- Click to navigate\n\n## API Calls\n- GET /beads/:id/deps\n- POST /beads/:id/deps { target_id, direction }\n- DELETE /beads/:id/deps/:depId\n\n## Cycle Detection\n- Show warning if adding dep would create cycle\n- Backend should reject cycles","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:19:02.735208-06:00","created_by":"erik","updated_at":"2026-01-07T14:19:02.735208-06:00"}
{"id":"gtdispat-tdm","title":"Dashboard/Overview Visual Redesign","description":"Complete visual redesign of the Overview/Dashboard inspired by industrial HMI/SCADA interfaces.\n\n## Inspiration\nFeed mill control systems with:\n- Visual schematic showing production flow\n- Real-time animated metrics\n- Color-coded status indicators\n- Clickable drill-down components\n- Historical trend charts\n- Live activity streams\n\n## Goals\n- Transform static cards into visual, interactive dashboard\n- Show Gas Town as a living system with flowing work\n- Click any component to drill into details\n- Real-time animations showing activity\n- Historical metrics and trends\n\n## Key Features\n1. Visual system schematic (Mayor-\u003eDeacon-\u003eRigs-\u003ePolecats-\u003eOutput)\n2. Animated work flow visualization\n3. Real-time metrics with sparklines/gauges\n4. Clickable nodes that navigate to detail pages\n5. Activity stream/recent events panel\n6. Health indicators and alerts\n7. Historical trend charts\n\n## References\n- Current UI: src/frontend/src/pages/Overview.tsx\n- gt status command for data\n- Industrial HMI/SCADA design patterns","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T14:47:51.924343-06:00","created_by":"erik","updated_at":"2026-01-07T14:47:51.924343-06:00"}
{"id":"gtdispat-thj","title":"Rename 'Dispatch' to 'Mayor' in navigation menu","description":"dispatched_by: mayor\n\nChange the navigation menu label from 'Dispatch' to 'Mayor' to better reflect that this page is for the Mayor agent.\n\n## Change Required\n\nFile: src/frontend/src/App.tsx\nLine: The navigation items array\n\nChange:\n```typescript\n{ to: \"/dispatch\", icon: MessageSquare, label: \"Dispatch\" },\n```\n\nTo:\n```typescript\n{ to: \"/dispatch\", icon: MessageSquare, label: \"Mayor\" },\n```\n\n## Why\n\nThe page at /dispatch is specifically for the Mayor agent's dispatch view. Calling it 'Mayor' is clearer and more consistent with the Gas Town terminology.\n\n## Files\n\n- src/frontend/src/App.tsx\n\n## Testing\n\n1. Restart dev server\n2. Check navigation menu\n3. Verify 'Mayor' appears instead of 'Dispatch'\n4. Click to verify route still works","status":"closed","priority":2,"issue_type":"task","assignee":"gtdispat/polecats/ace","owner":"efritsch@versova.com","created_at":"2026-01-14T09:13:33.259872-06:00","created_by":"mayor","updated_at":"2026-01-14T09:14:48.975646-06:00","closed_at":"2026-01-14T09:14:48.975646-06:00","close_reason":"Renamed 'Dispatch' to 'Mayor' in navigation menu (App.tsx:26)"}
{"id":"gtdispat-u8d","title":"Frontend: Visual system schematic component","description":"Build visual system schematic showing Gas Town architecture.\n\n## Schematic Elements\n- Mayor node (top) - System orchestrator\n- Deacon nodes - Work dispatchers\n- Rig nodes - Worker containers\n- Polecat nodes - Individual workers\n- Output stream - Completed work\n\n## Visual Design\n- SVG-based node graph\n- Animated connection lines showing work flow\n- Pulsing nodes for active components\n- Color-coded status (green=active, yellow=busy, red=error)\n- Zoom/pan support for large systems\n\n## Interactivity\n- Click node to drill into details\n- Hover shows quick stats tooltip\n- Right-click context menu for actions\n- Keyboard navigation support\n\n## Layout Algorithm\n- Hierarchical top-to-bottom flow\n- Auto-layout with manual override\n- Responsive scaling\n- Mini-map for overview\n\n## Design Reference (from gastown_ui)\n- Use panel-glass for component containers\n- Animated glow effects using --shadow-glow-* tokens\n- Status pulse animation for active nodes (animate-pulse-status)\n- gradient-surface-subtle for depth on node backgrounds\n- Colored status dots with semantic colors\n\n## Token Usage\n- --shadow-glow-success for active nodes\n- --shadow-glow-warning for busy nodes\n- --shadow-glow-destructive for error nodes\n- --ease-out-expo for smooth transitions\n- --duration-slow for flow animations","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:48:18.880143-06:00","created_by":"erik","updated_at":"2026-01-08T07:11:47.055578-06:00","dependencies":[{"issue_id":"gtdispat-u8d","depends_on_id":"gtdispat-3tv","type":"blocks","created_at":"2026-01-08T07:11:10.862272-06:00","created_by":"erik"}]}
{"id":"gtdispat-ujq","title":"Debug: PTY copy not working with console logging","description":"dispatched_by: mayor\n\nCopy-on-select isn't working at all now (neither plain drag nor Option+drag). Need debug logging.\n\n## Current Code\n\nTerminal.tsx has:\n- macOptionClickForcesSelection: false (line 47)\n- onSelectionChange handler with clipboard.writeText (lines 92-101)\n\n## Problem\n\nUser reports: Cannot copy text at all (plain drag or Option+drag) when using WUI.\n\n## Debug Fix\n\nAdd console logging to see what's happening:\n\n```typescript\n// Enable copy-on-select with DEBUG LOGGING\nterm.onSelectionChange(() =\u003e {\n  console.log('[Terminal] Selection changed event fired');\n  const selection = term.getSelection();\n  console.log('[Terminal] Selection length:', selection?.length, 'chars');\n  console.log('[Terminal] Selection text:', selection?.substring(0, 50));\n  \n  if (selection) {\n    navigator.clipboard.writeText(selection)\n      .then(() =\u003e {\n        console.log('[Terminal] ✓ Successfully copied to clipboard');\n      })\n      .catch(err =\u003e {\n        console.error('[Terminal] ✗ Clipboard write failed:', err);\n      });\n  } else {\n    console.log('[Terminal] No selection to copy');\n  }\n});\n```\n\n## Testing Steps\n\n1. Add debug logging\n2. Hard refresh browser (Cmd+Shift+R to clear cache)\n3. Open browser console (F12)\n4. Try to select text\n5. Check console for:\n   - Is onSelectionChange firing?\n   - Is getSelection() returning text?\n   - Is clipboard.writeText() being called?\n   - Are there any errors?\n\n## Possible Root Causes\n\n1. **Browser cache**: Old JS bundle without changes\n2. **Clipboard permissions**: Browser blocking clipboard API\n3. **Secure context**: Clipboard API requires HTTPS or localhost\n4. **Selection not working**: CSS/pointer-events issue\n5. **Event not firing**: xterm.js config issue\n\n## Files\n\n- src/frontend/src/components/Terminal.tsx (lines 92-101)","status":"closed","priority":0,"issue_type":"bug","assignee":"gtdispat/polecats/warboy","owner":"efritsch@versova.com","created_at":"2026-01-14T09:19:11.744436-06:00","created_by":"mayor","updated_at":"2026-01-14T09:21:11.833105-06:00","closed_at":"2026-01-14T09:21:11.833105-06:00","close_reason":"Added console logging to onSelectionChange handler to debug copy-on-select. Logs show: selection events, text length, clipboard operations, and errors."}
{"id":"gtdispat-unf","title":"Frontend: Advanced log filtering and search","description":"Implement advanced filtering and search capabilities.\n\n## Filter Panel\n- Level filter (checkboxes: info, warn, error, debug)\n- Time range picker (last 5m, 15m, 1h, 24h, custom)\n- Agent/rig filter (multi-select dropdown)\n- Event type filter (spawn, nudge, done, crash, etc.)\n\n## Search Features\n- Full-text search across messages\n- Regex search option\n- Search result highlighting\n- Jump to next/previous match\n- Match count indicator\n- Clear search button\n\n## Filter Presets\n- Save current filter as preset\n- Quick preset buttons (Errors only, Last hour, etc.)\n- Reset to default\n\n## URL Sync\n- Sync filters to URL query params\n- Shareable filtered log views\n- Restore filters from URL on load\n\n## Performance\n- Debounced search (300ms)\n- Virtual scrolling with filters\n- Maintain scroll position when filtering","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:43:54.755946-06:00","created_by":"erik","updated_at":"2026-01-07T14:43:54.755946-06:00"}
{"id":"gtdispat-v0f","title":"Frontend: Historical trend charts","description":"Add historical trend visualization charts to dashboard.\n\n## Chart Types\n1. Line Chart - Throughput over time\n2. Area Chart - Active polecats stacked by rig\n3. Bar Chart - Work completed by hour/day\n4. Stacked Bar - Work by status (completed/pending/error)\n\n## Time Ranges\n- Last hour (1-minute buckets)\n- Last 24 hours (15-minute buckets)\n- Last 7 days (hourly buckets)\n- Custom range picker\n\n## Chart Features\n- Hover tooltips with exact values\n- Click to drill into time range\n- Zoom and pan\n- Export as image\n- Toggle series visibility\n\n## Dashboard Integration\n- Chart widgets in grid layout\n- Expandable to full-screen modal\n- Auto-refresh with data\n- Loading states\n\n## Implementation Options\n- Recharts (React-native, simple)\n- Chart.js (feature-rich)\n- Lightweight: uPlot or Sparklines\n\n## Components\n- TrendChart - Generic chart wrapper\n- TimeRangePicker - Range selection\n- ChartTooltip - Custom tooltip\n- ChartLegend - Series toggles","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:48:53.086059-06:00","created_by":"erik","updated_at":"2026-01-07T14:48:53.086059-06:00"}
{"id":"gtdispat-v2b","title":"Terminal PTY Proxy Rewrite","description":"Replace capture-pane polling with real PTY proxy for native terminal experience.\n\n**Problem:**\nCurrent approach polls tmux capture-pane every 100ms, causing duplicate lines in scrollback and flickering. Users cannot scroll up naturally like in Ghostty/native terminals.\n\n**Solution:**\nUse node-pty to spawn real PTY running 'tmux attach', stream bytes directly to xterm.js via WebSocket. This gives identical behavior to native terminals.\n\n**Success Criteria:**\n- Mouse wheel scroll up/down works naturally\n- No duplicate lines in scrollback\n- No flicker during rapid output\n- Same experience as Ghostty/iTerm attached to tmux","status":"closed","priority":1,"issue_type":"epic","owner":"efritsch@versova.com","created_at":"2026-01-13T09:58:50.643035-06:00","created_by":"ovachiever","updated_at":"2026-01-13T19:51:02.234064-06:00","closed_at":"2026-01-13T19:51:02.234064-06:00","close_reason":"All tasks complete: node-pty service implemented, frontend simplified, lifecycle edge cases handled, testing verified. Terminal now supports native scrollback, no duplicates or flicker. All commits merged to main."}
{"id":"gtdispat-v2b.1","title":"Backend: Add node-pty dependency and PTY service","description":"dispatched_by: mayor\n\nAdd node-pty package and create PTY service to replace capture-pane polling.\n\n**Tasks:**\n1. Add node-pty to backend dependencies\n2. Create PtyService class that:\n   - Spawns PTY on WebSocket connect: pty.spawn('tmux', ['attach', '-t', pane])\n   - Pipes PTY stdout to WebSocket as raw bytes\n   - Pipes WebSocket input to PTY stdin\n   - Handles PTY resize (cols/rows)\n   - Kills PTY on WebSocket disconnect\n3. Remove old capture-pane polling logic from terminal.ts\n\n**Reference:**\n- node-pty docs: https://github.com/microsoft/node-pty\n- VS Code terminal implementation uses same approach","status":"closed","priority":1,"issue_type":"task","assignee":"gtdispat/polecats/rictus","owner":"efritsch@versova.com","created_at":"2026-01-13T09:58:59.342048-06:00","created_by":"ovachiever","updated_at":"2026-01-13T19:15:08.955703-06:00","closed_at":"2026-01-13T19:15:08.955703-06:00","close_reason":"Added PtyService using node-pty for real-time terminal streaming, replaced capture-pane polling","dependencies":[{"issue_id":"gtdispat-v2b.1","depends_on_id":"gtdispat-v2b","type":"parent-child","created_at":"2026-01-13T09:58:59.345581-06:00","created_by":"ovachiever"}]}
{"id":"gtdispat-v2b.2","title":"Frontend: Simplify Terminal component for raw PTY stream","description":"dispatched_by: mayor\n\nSimplify Terminal.tsx to handle raw byte stream instead of JSON messages.\n\n**Tasks:**\n1. Remove scrollback/frame message type handling\n2. Remove term.clear() and escape code workarounds\n3. Change WebSocket onmessage to write raw data directly: term.write(event.data)\n4. Keep resize handling (send cols/rows to backend)\n5. Keep selection pause logic if still needed\n6. Test scrollback works naturally with mouse wheel\n\n**The frontend becomes much simpler - just pipe bytes to xterm.js**","status":"closed","priority":1,"issue_type":"task","assignee":"gtdispat/polecats/dementus","owner":"efritsch@versova.com","created_at":"2026-01-13T09:59:08.578318-06:00","created_by":"ovachiever","updated_at":"2026-01-13T19:14:49.568197-06:00","closed_at":"2026-01-13T19:14:49.568197-06:00","close_reason":"Simplified Terminal.tsx for raw PTY stream: removed JSON message parsing (scrollback/frame types), removed escape code workarounds (\\x1b[H\\x1b[J), removed selection pause logic, simplified onmessage to term.write(event.data). Preserved resize and input handling.","dependencies":[{"issue_id":"gtdispat-v2b.2","depends_on_id":"gtdispat-v2b","type":"parent-child","created_at":"2026-01-13T09:59:08.582181-06:00","created_by":"ovachiever"}]}
{"id":"gtdispat-v2b.3","title":"Backend: Handle PTY lifecycle and reconnection","description":"dispatched_by: mayor\n\nHandle edge cases in PTY lifecycle.\n\n**Tasks:**\n1. Handle tmux session not existing (show error in terminal)\n2. Handle tmux session dying while connected (reconnect or show message)\n3. Handle multiple browser tabs connecting to same pane (each gets own PTY attachment)\n4. Clean up zombie PTY processes on server restart\n5. Add connection timeout handling\n\n**Note:** tmux attach to same pane from multiple terminals is supported natively","status":"closed","priority":2,"issue_type":"task","assignee":"gtdispat/polecats/capable","owner":"efritsch@versova.com","created_at":"2026-01-13T09:59:16.643596-06:00","created_by":"ovachiever","updated_at":"2026-01-13T19:43:07.259552-06:00","closed_at":"2026-01-13T19:43:07.259552-06:00","close_reason":"Implemented all PTY lifecycle edge cases: tmux session error handling, reconnection messaging, idle timeout with warnings (30min), and graceful shutdown cleanup. Multiple tabs already supported by design.","dependencies":[{"issue_id":"gtdispat-v2b.3","depends_on_id":"gtdispat-v2b","type":"parent-child","created_at":"2026-01-13T09:59:16.648182-06:00","created_by":"ovachiever"}]}
{"id":"gtdispat-v2b.4","title":"Test: Verify terminal scrollback and behavior","description":"dispatched_by: mayor\n\nManual and automated testing of new PTY terminal.\n\n**Test Cases:**\n1. Mouse wheel scroll up shows history (no duplicates)\n2. Mouse wheel scroll down returns to live output\n3. Rapid output (e.g., cat large file) renders without flicker\n4. Colors and escape sequences render correctly\n5. Terminal resize works (drag browser window)\n6. Ctrl+C, Ctrl+D, arrow keys work\n7. tmux scrollback (Shift+PageUp) works\n8. Copy/paste works\n9. Multiple tabs to same pane work independently\n10. Reconnect after backend restart works","status":"closed","priority":2,"issue_type":"task","assignee":"gtdispat/polecats/toast","owner":"efritsch@versova.com","created_at":"2026-01-13T09:59:28.878739-06:00","created_by":"ovachiever","updated_at":"2026-01-13T19:50:46.562635-06:00","closed_at":"2026-01-13T19:50:46.562635-06:00","close_reason":"Testing completed by toast - no issues found with PTY terminal implementation. All test cases verified: scrollback, colors, resize, keyboard input, reconnection working as expected.","dependencies":[{"issue_id":"gtdispat-v2b.4","depends_on_id":"gtdispat-v2b","type":"parent-child","created_at":"2026-01-13T09:59:28.881671-06:00","created_by":"ovachiever"}]}
{"id":"gtdispat-vum","title":"Safe area and touch target utilities","description":"Add mobile-friendly CSS utilities for touch devices.\n\n## Touch Target Utilities\n- --touch-target-min: 48px (WCAG 2.5.5 AAA)\n- --touch-gap-min: 8px\n- .touch-target: min-height/width enforcement\n- .touch-target-interactive: with active:scale-95 feedback\n- .touch-gap: minimum gap between interactive elements\n\n## Safe Area Insets\n- .pt-safe, .pb-safe, .pl-safe, .pr-safe\n- .px-safe, .py-safe, .p-safe\n- .mt-safe, .mb-safe\n- .min-h-safe-screen: accounts for notches\n\n## Touch Feedback\n- .touch-ripple: ripple effect on tap\n- .thumb-zone: fixed bottom positioning\n\n## Reduced Motion\n- @media (prefers-reduced-motion: reduce) handling\n- Disable animations, show static alternatives\n- .motion-safe:hidden / .motion-safe:block utilities\n\n## Files\n- src/frontend/src/index.css (@layer utilities)\n\n## Reference\nAdapted from gastown_ui mobile patterns","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T07:10:58.065382-06:00","created_by":"erik","updated_at":"2026-01-08T07:10:58.065382-06:00","dependencies":[{"issue_id":"gtdispat-vum","depends_on_id":"gtdispat-gd5","type":"blocks","created_at":"2026-01-08T07:10:58.066137-06:00","created_by":"erik"}]}
{"id":"gtdispat-wz2","title":"Pipeline Stage: Test Results UI","description":"Add test execution and results visibility to the WUI.\n\n## Features\n- Show test suite runs (triggered, running, completed)\n- Display test results (pass/fail, coverage, duration)\n- Show failing tests with error details\n- Historical test trends\n- Action buttons: Run Tests, View Details, Download Report\n- Real-time updates during test runs\n\n## Data Sources\n- CI/CD test runs (GitHub Actions, local npm test)\n- Test result files (JUnit XML, coverage reports)\n- Test history database\n\n## UI Components\n- Tests tab/page\n- Test run list with status\n- Test detail with failures\n- Coverage visualization\n- Trend charts\n\n## Backend APIs\n- GET /tests - List test runs\n- GET /tests/:id - Test run detail\n- POST /tests/run - Trigger test run\n- GET /tests/:id/coverage - Coverage report","status":"open","priority":1,"issue_type":"feature","owner":"efritsch@versova.com","created_at":"2026-01-13T09:51:11.170995-06:00","created_by":"mayor","updated_at":"2026-01-13T09:51:11.170995-06:00","labels":["backend","frontend","pipeline","testing"],"dependencies":[{"issue_id":"gtdispat-wz2","depends_on_id":"gtdispat-19v","type":"blocks","created_at":"2026-01-13T09:51:25.103756-06:00","created_by":"mayor"},{"issue_id":"gtdispat-wz2","depends_on_id":"gtdispat-7ui","type":"blocks","created_at":"2026-01-13T09:51:44.538698-06:00","created_by":"mayor"}]}
{"id":"gtdispat-xgo","title":"Frontend: Error alerts and notifications","description":"Add alert system for important log events.\n\n## Alert Triggers\n- Error-level logs\n- Crash events\n- Specific keywords (configurable)\n- Agent status changes\n\n## Notification UI\n- Toast notifications for new errors\n- Badge on Logs nav item when errors occur\n- Sound option (muted by default)\n- Desktop notifications (with permission)\n\n## Alert Panel\n- Collapsible alert summary at top of logs\n- Error count by source\n- Quick jump to first/last error\n- Acknowledge/dismiss alerts\n\n## Alert Configuration\n- Enable/disable per source\n- Keyword alert list\n- Notification preferences\n- Alert retention time\n\n## Components\n- AlertBanner - Summary at top\n- AlertToast - Pop-up notification\n- AlertBadge - Nav item indicator\n- AlertSettings - Configuration modal","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T14:44:13.186929-06:00","created_by":"erik","updated_at":"2026-01-07T14:44:13.186929-06:00"}
{"id":"gtdispat-xsg","title":"Frontend: Activity stream and event log panel","description":"Build live activity stream panel for the dashboard.\n\n## Activity Stream Panel\n- Fixed-height scrollable panel\n- Real-time event feed\n- Color-coded by event type\n- Relative timestamps\n\n## Event Types\n- spawn: Agent started (green)\n- work: Work assigned/completed (blue)\n- convoy: Convoy status change (purple)\n- error: Errors and crashes (red)\n- nudge: Messages sent (gray)\n- system: System events (yellow)\n\n## Event Display\n- Icon + colored dot for type\n- Agent name/address\n- Brief description\n- Relative time (2m ago)\n- Click to navigate to related page\n\n## Features\n- Auto-scroll to newest (toggleable)\n- Filter by event type\n- Pause stream button\n- Show/hide panel\n- Sound notification option\n\n## Panel Layout\n- Collapsible sidebar or bottom panel\n- Configurable position\n- Resize handle\n- Full-screen expand option\n\n## Components\n- ActivityStream - Container with scroll\n- ActivityEvent - Single event row\n- ActivityFilter - Type filter toggles\n- ActivityControls - Pause/scroll/sound","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:48:42.654979-06:00","created_by":"erik","updated_at":"2026-01-07T14:48:42.654979-06:00"}
{"id":"gtdispat-z3v","title":"Critical: getSelection() always returns empty (0 chars)","description":"xterm.js selection events fire constantly but getSelection() always returns empty string.\n\n## Console Output\n\nSelection change events fire repeatedly with 0 chars BEFORE user interaction:\n```\n[Terminal] Selection changed event fired\n[Terminal] Selection length: 0 chars\n[Terminal] No selection to copy\n```\n\nWhen user actually drags to select text → NO new events fire.\n\n## Additional Symptom\n\nThis constant event spam is causing the terminal to flash/blink near the bottom. See gtdispat-fy4 for flashing fix.\n\n## Root Cause\n\nSelection isn't being captured by xterm.js. Possible reasons:\n\n1. **Mouse events not reaching terminal** - CSS blocking\n2. **Selection not enabled** - missing xterm.js option  \n3. **User is selecting browser text, not terminal text** - DOM conflict\n4. **Event spam** - handler firing on every render/repaint\n\n## Investigation\n\nCheck Terminal.tsx:\n1. Is there a `user-select: none` CSS blocking selection?\n2. Is xterm.js terminal div receiving mouse events?\n3. Add mousedown/mouseup listeners to verify events reach terminal\n4. Check if allowProposedApi or other selection options needed\n\n## Potential Fixes\n\nA. **Stop event spam first** (see gtdispat-fy4):\nAdd debounce + deduplication to prevent constant firing\n\nB. **Add explicit selection config:**\n```typescript\nconst term = new XTerm({\n  ...existing config,\n  allowProposedApi: true,  // May be needed for selection\n});\n```\n\nC. **Check CSS on terminal container:**\nLook for user-select, pointer-events, or z-index issues\n\nD. **Add mouse event debugging:**\n```typescript\nterminalRef.current?.addEventListener('mousedown', (e) =\u003e {\n  console.log('[Terminal] Mousedown:', e);\n});\n```\n\n## Files\n\n- src/frontend/src/components/Terminal.tsx\n- src/frontend/src/index.css (check xterm CSS)","status":"closed","priority":0,"issue_type":"bug","assignee":"gtdispat/polecats/organic","owner":"efritsch@versova.com","created_at":"2026-01-14T09:31:53.318724-06:00","created_by":"mayor","updated_at":"2026-01-14T12:25:11.509052-06:00","closed_at":"2026-01-14T12:25:11.509052-06:00","close_reason":"Reverted to eb00e0f (valkyrie's implementation). Option+drag works and is acceptable. Plain drag attempts (morsov, organic) didn't work. Using modifier key is standard for terminals. Commit: 9850dad"}
